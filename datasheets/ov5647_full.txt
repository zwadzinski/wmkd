n
ly
O
ly
u
tr
r
fo
l
a
ti
n
e
d
fi
n
o

PRELIMINARY SPECIFICATION
1/4" color CMOS QSXGA (5 megapixel) image sensor
with OmniBSI™ technology

OV5647

C

datasheet

e

d

fi

n

o

C

a

ti

n
l
r

fo

ly

u

tr

n
ly

O

i

00Copyright © 2009 OmniVision Technologies, Inc. All rights reserved.
This document is provided “as is” with no warranties whatsoever, including any warranty of merchantability,

n
ly

non-infringement, fitness for any particular purpose, or any warranty otherwise arising out of any proposal, specification,
or sample.

OmniVision Technologies, Inc. and all its affiliates disclaim all liability, including liability for infringement of any proprietary
rights, relating to the use of information in this document. No license, expressed or implied, by estoppel or otherwise, to

O

any intellectual property rights is granted herein.

The information contained in this document is considered proprietary to OmniVision Technologies, Inc. and all its

ly

affiliates. This information may be distributed to individuals or organizations authorized by OmniVision Technologies, Inc.

u

to receive said information. Individuals and/or organizations are not allowed to re-distribute said information.

tr

Trademark Information

OmniVision and the OmniVision logo are registered trademarks of OmniVision Technologies, Inc. OmniBSI is a trademark of OmniVision

d

e

n

ti

a

l

fo

All other trademarks used herein are the property of their respective owners.

r

Technologies, Inc.

n

datasheet (COB)

fi

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

o

PRELIMINARY SPECIFICATION

C

version 1.0
november 2009

To learn more about OmniVision Technologies, visit www.ovt.com.
OmniVision Technologies is publicly traded on NASDAQ under the symbol OVTI.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

iii

00applications

ordering information

cellular phones

OV05647-G04A (color, chip probing, 200 µm
backgrinding, reconstructed wafer)

n
ly

toys
PC multimedia

00features
1.4 µm x 1.4 µm pixel with OmniBSI technology for
high performance (high sensitivity, low crosstalk, low
noise)

support for LED and flash strobe mode

ly

support for internal and external frame
synchronization for frame exposure mode

optical size of 1/4"

u

support for horizontal and vertical sub-sampling

automatic image control functions: automatic
exposure control (AEC), automatic white balance
(AWB), automatic band filter (ABF), automatic
50/60 Hz luminance detection, and automatic black
level calibration (ABLC)

standard serial SCCB interface

tr

digital video port (DVP) parallel output interface
MIPI interface (two lanes)

32 bytes of embedded one-time programmable
(OTP) memory

fo

r

programmable controls for frame rate, AEC/AGC
16-zone size/position/weight control, mirror and flip,
cropping, windowing, and panning

on-chip phase lock loop (PLL)
embedded 1.5V regulator for core power

image quality controls: lens correction, defective
pixel canceling

programmable I/O drive capability, I/O tri-state
configurability

a

l

support for output formats: 8-/10-bit raw RGB data

support for black sun cancellation

ti

support for video or snapshot operations

e

n

00key specifications
active array size: 2592 x 1944

d

power supply:

maximum image transfer rate:
QSXGA (2592 x 1944): 15 fps
1080p: 30 fps

analog: 2.6 ~ 3.0V (2.8V typical)

960p: 45 fps

I/O: 1.7V ~ 3.0V

720p: 60 fps

n

fi

core: 1.5V + 5% (with embedded 1.5V regulator)

power requirements:

VGA (640 x 480): 90 fps
QVGA (320 x 240): 120 fps

o

active: TBD

O

digital still cameras

sensitivity: TBD

standby: TBD

shutter: rolling shutter / global shutter

C

temperature range:

operating: -30°C to 70°C (see table 8-2)

maximum exposure interval: 1968 x tROW

stable image: 0°C to 50°C (see table 8-2)

pixel size: 1.4 µm x 1.4 µm

output formats: 8-/10-bit RGB RAW output

well capacity: TBD

lens size: 1/4"

dark current: TBD

lens chief ray angle: 24° (see figure 10-2)

fixed pattern noise (FPN): TBD

input clock frequency: 6~27 MHz

image area: 3673.6 µm x 2738.4 µm

S/N ratio: TBD

die dimensions: 5520 µm x 4700 µm

dynamic range: TBD

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

v

00table of contents
1-1

2 system level description

2-1

n
ly

1 signal descriptions

2-1

2.2 architecture

2-1

O

2.1 overview
2.3 format and frame rate

2-3

2.4 I/O control

2-3

ly

2.4.1 system clock control
2.5 power up sequence

u

2.5.1 power up with internal DVDD

tr

2.5.2 power up with external DVDD source
2.6 reset

r

2.7 standby and sleep

fo

3 block level description
3.1 pixel array structure
3.2 binning

l

3.3 analog amplifier

n

4.1 mirror and flip

2-3
2-3
2-4
2-5
2-5
3-1
3-1
3-2
3-2
3-2
4-1
4-1
4-2
4-3
4-3
4-3

4.3.3 random data

4-4

4.3.4 transparent effect

4-4

4.3.5 rolling bar effect

4-4

n

fi

4.3.2 square

d

4.3.1 color bar

e

4.2 image windowing
4.3 test pattern

ti

4 image sensor core digital functions

a

3.4 10-bit A/D converters

2-3

4-6

4.5 AEC and AGC algorithms

4-7

C

o

4.4 50/60Hz detection
4.5.1 overview
4.5.2 average-based algorithm

4-8

4.5.3 average luminance (YAVG)

4-10

4.6 AEC/AGC steps
4.6.1 auto exposure control (AEC)

11.03.2009

4-7

PRELIMINARY SPECIFICATION

4-12
4-12

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.6.2 LAEC

4-12

4.6.3 banding mode ON with AEC

4-12
4-12

4.6.5 auto gain control (AGC)

4-12

n
ly

4.6.4 night mode
4.7 black level calibration (BLC)
4.8 strobe flash and frame exposure

O

4.8.1 strobe flash control
4.9 xenon flash control
4.9.1 LED1 & 2 mode

ly

4.9.2 LED 3 mode
4.10 frame exposure (FREX) mode
4.11 FREX strobe flash control

tr

u

4.10.1 FREX control
4.12 one-time programmable (OTP) memory

5.2 lens correction (LENC)

fo

5.1 ISP general controls

r

5 image sensor processor digital functions

4-14
4-15
4-16
4-17
4-17
4-18
4-19
5-1
5-1

5.4 auto white balance (AWB)

5-6

a

l

5-6
5-8

ti

6.2 SCCB

6-5

6.3 group register write

6-6

6.4 timing control

6-7

6.5 strobe

6-8

d

n

6-1

e

6-1

6.1 system control

fi
n

4-14

5.3 defect pixel cancellation (DPC)

6 image sensor output interface digital functions

o

4-14

5-4

5.5 post binning function

C

4-13

6.6 frame control (FC)

6-10

6.7 digital video port (DVP)

6-10

6.7.1 DVP timing

6-12

6.8 mobile industry processor interface (MIPI)

6-14

7 register tables

7-1

8 operating specifications

8-1

8.1 absolute maximum ratings

8-1

8.2 functional temperature

8-1

8.3 DC characteristics

8-2

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

vii

8.4 AC characteristics

8-3

9 mechanical specifications

9-1
9-1

n
ly

9.1 physical specifications
10 optical specifications

10-1
10-1

10.2 lens chief ray angle (CRA)

10-2

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

10.1 sensor array center

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

ix

pad diagram

1-4

figure 2-1

OV5647 block diagram

2-1

figure 2-2

reference design schematic

2-2

figure 2-3

power up timing with internal DVDD

2-4

figure 2-4

power up timing with external DVDD source

figure 3-1

sensor array region color filter layout

figure 3-2

example of 2x2 binning

figure 4-1

mirror and flip samples

figure 4-2

image windowing

figure 4-3

color bar types

figure 4-4

color, black and white square bars

figure 4-5

transparent effect

figure 4-6

rolling bar effect

figure 4-7

desired convergence

figure 4-8

average-based window definition

figure 4-9

xenon flash mode

figure 4-10

LED 1 & 2 mode - one pulse output

4-15

figure 4-11

LED 1 & 2 mode - multiple pulse output

4-16

figure 4-12

LED 3 mode

4-16

figure 4-13

FREX modes

figure 6-1

DVP timing diagram

figure 9-1

die specifications

figure 10-1

d

9-1

sensor array center

10-1

figure 10-2

chief ray angle (CRA)

10-2

O

n
ly

figure 1-1

fi

00list of figures

2-5

3-2
4-1
4-2
4-3
4-3
4-4
4-4
4-8
4-10
4-14

4-17
6-12

C

o

n

e

n

ti

a

l

fo

r

tr

u

ly

3-1

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

xi

00list of tables
signal descriptions

1-1

n
ly

table 1-1

1-3

table 2-1 format and frame rate

2-3

table 3-1 horizontal and vertical binning registers

3-2

O

table 1-2 pad configuration under various conditions

table 4-1 mirror flip control registers

4-1

table 4-2 image windowing registers

4-2

ly

table 4-3 test pattern registers
table 4-4 50/60 Hz detection control registers

u

table 4-5 AEC/AGC control function registers

tr

table 4-6 average based control function registers
table 4-7 average luminance control function registers

r

table 4-8 BLC control functions

fo

table 4-9 flashlight modes
table 4-10 FREX strobe control functions
table 4-11 OTP control function registers
table 5-2 LENC control registers
table 5-4 AWB control registers

ti

defect pixel cancellation registers

n

table 5-3

a

l

table 5-1 ISP general control registers

4-5
4-6
4-7
4-9
4-10
4-13
4-14
4-18
4-19
5-1
5-4
5-6
5-6

6-5

table 6-3 group hold control registers

6-6

table 6-4 timing control registers

6-7

table 6-5 strobe control registers

6-8

table 6-6 frame control registers

6-10

table 6-7 system control registers

6-10

table 6-8 DVP timing specifications

6-12

table 6-9 MIPI transmitter registers

6-14

table 7-1 system control registers

7-1

table 7-2 SCCB registers

7-5

table 7-3 group hold control registers

7-7

o

fi

e

table 6-2 system control registers

6-1

d

table 6-1 system control registers

n

5-8

C

table 5-5 post binning control registers

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

7-8

table 7-5 system timing registers

7-8

table 7-6 AEC/AGC 2 registers

7-11

n
ly

table 7-4 AEC/AGC 1 registers

table 7-7 STROBE/frame exposure control registers
table 7-8 50/60 HZ DETECTION registers
table 7-9 OTP control registers

O

table 7-10 BLC registers
table 7-11 frame control registers

ly

table 7-12 DVP registers
table 7-13 MIPI top registers

u

table 7-14 ISPFC registers
table 7-15 ISP TOP control registers

tr

table 7-16 AWB registers
table 7-17 average registers

fo

table 7-19 LENC registers

r

table 7-18 DPC registers

7-13
7-15
7-16
7-18
7-21
7-21
7-23
7-33
7-34
7-39
7-41
7-42
7-43
7-46

table 7-21 windows registers

7-47

l

table 7-20 cluster DPC registers

7-48

table 8-1 absolute maximum ratings

8-1
8-1

table 8-3 DC characteristics (-30°C < TA < 70°C)

8-2

table 8-4 AC characteristics (TA = 25°C, VDD-A = 2.8V)

8-3

table 8-5 timing characteristics

8-3

table 9-1 pad location coordinates

9-1

table 10-1 CRA versus image height plot

10-2

C

o

n

fi

e

n

table 8-2 functional temperature

d

ti

a

table 7-22 AEC/AGC 3 registers

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

1-1

1 signal descriptions
table 1-1 lists the signal descriptions and their corresponding pad numbers for the OV5647 image sensor. The die

O

signal descriptions (sheet 1 of 2)
signal name

pad
type

description

1

AVDD

power

power for analog circuit, 2.8V

2

AGND

power

ground for analog circuit

3

DOGND

power

ground for digital I/O

4

SCL

input

SCCB clock input

5

SDA

I/O

SCCB data I/O

6

DVDD

power

power for digital core circuit, 1.5V
(connect to 0.1uF capacitor to ground)

7

SGND

power

ground for pixel array

8

GPIO1

I/O

GPIO 1

9

GPIO0

I/O

GPIO 0

10

STROBE

I/O

strobe output

11

FREX

I/O

12

DOVDD

power

13

VREF2

reference

14

VREF1

15

PWDN

16

a

l

fo

r

tr

u

ly

pad
number

e

table 1-1

n
ly

information is shown in section 9.

n

ti

frame exposure control

reference analog circuit
(connect to 0.1uF capacitor to ground)

power down control
(active high with internal pull-down resistor)

power

power for digital core circuit, 1.5V
(connect to 0.1uF capacitor to ground)

RESETB

input

hardware reset (active low with internal pull-up resistor)

AVDD

power

power for analog circuit, 2.8V

19

AGND

power

ground for analog circuit

20

TM

input

test mode (active high with internal pull down resistor)

21

DOGND

power

ground for digital I/O

22

DVDD

power

power for digital core circuit, 1.5V
(connect to 0.1uF capacitor to ground)

18

11.03.2009

DVDD

o

17

fi

input

n

reference for analog circuit
(connect to 0.1uF capacitor to ground)

C

d

reference

power for digital I/O, 1.7 ~ 3.0V

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

pad
number

signal name

pad
type

23

DVDD

power

power for digital core circuit, 1.5V
(connect to 0.1uF capacitor to ground)

24

DOVDD

power

power for digital I/O, 1.7 ~ 3.0V

25

DOGND

power

ground for digital I/O

26

AVDD

power

power for analog circuit, 2.8V

27

HREF

I/O

DVP HREF output

28

PCLK

I/O

DVP PCLK output

29

VSYNC

I/O

DVP VSYNC output

30

DOVDD

power

power for digital I/O, 1.7 ~ 3.0V

31

D0

I/O

32

D1

I/O

tr

33

D2

I/O

34

D3

35

D9/MDN0

36

D8/MDP0

37

EVDD

38
39

n
ly

O

ly

u

DVP data bit 0

r

DVP data bit 1

DVP data bit 9/ MIPI data lane0 negative output

I/O

DVP data bit 8/ MIPI data lane0 positive output

power

power for MIPI circuit, 1.5V (connect to DVDD)

D7/MCN

I/O

DVP data bit 7/ MIPI clock negative output

D6/MCP

I/O

DVP data bit 6/ MIPI clock positive output

EGND

power

ground for MIPI TX circuit

D5/MDN1

I/O

DVP data bit 5/ MIPI data lane1 negative output

42

D4/MDP1

I/O

DVP data bit 4/ MIPI data lane1 positive output

43

EGND

power

ground for MIPI TX circuit

44

PVDD

power

power for PLL circuit, 2.8V (connect to AVDD)

45

XCLK

input

system input clock

46

DOVDD

power

power for digital I/O, 1.7 ~ 3.0V

47

DVDD

power

power for digital core circuit, 1.5V
(connect to 0.1uF capacitor to ground)

48

DOGND

power

ground for digital I/O

49

AVDD

power

power for analog circuit, 2.8V

50

AGND

power

ground for analog circuit

a

ti

n
e

d
n

l

I/O

fi

DVP data bit 2
DVP data bit 3

41

o

description

I/O

40

C

signal descriptions (sheet 2 of 2)

fo

table 1-1

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

1-3

table 1-2

pad configuration under various conditions
RESETa

RESETb

post-RESET

software sleep

hardware standby
(power down pin = 1)

VSYNC

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

high-z by default
(configurable)

HREF

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

high-z by default
(configurable)

PCLK

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

high-z by default
(configurable)

D[9:0]

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

high-z by default
(configurable)

FREX

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

high-z by default
(configurable)

STROBE

high-z

high-z

input by default
(configurable)

high-z by default
(configurable)

XCLK

high-z

input

input

input

SIOD

open drain

I/O

I/O

I/O

SIOC

high-z

input

input

MCP

0

output

output

MCN

0

output

output

MDP0

high-z

high-z

MDN0

high-z

high-z

MDP1

high-z

high-z

MDN1

high-z

high-z

0

0

0

output

high-z

high-z

output

high-z

high-z

output

high-z

high-z

output

high-z

high-z

a

l

0

b.

PWDN pin = 0 when chip power up

C

o

n

fi

d

some customer assume PWDN pin = 1 when chip power up

O

ly

u

tr

open drain

ti

fo

r

high-z

high-z

n

e

high-z by default
(configurable)

input

a.

n
ly

signal

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

e

d

fi

n

o

C

a

ti

n
46

45
44
43
42
41
40
39
38
37
36
35
34
33
32
31
30
29
28
27
26
25
24
23

DOVDD

XCLK
PVDD
EGND
D4/MDP1
D5/MDN1
EGND
D6/MCP
D7/MCN
EVDD
D8/MDP0
D9/MDN0
D3
D2
D1
D0
DOVDD
VSYNC
PCLK
HREF
AVDD
DOGND
DOVDD
DVDD

r

fo

48
47

DOGND
DVDD

l

50
49

proprietary to OmniVision Technologies

OV5647

ly

u

tr

AGND

19

DOGND

AVDD

18

22

DVDD

n
ly

O

RESETB

17

TM

PWDN
DVDD

15
16

21

DOVDD
VREF2
VREF1

20

FREX
12
13
14

GPIO1

8

STROBE

SGND

7

11

DVDD

6

GPIO0

DOGND
SCL
SDA

3
4
5

10

AGND

2

9

AVDD

1

figure 1-1

AGND
AVDD

OV5647
color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

pad diagram

5647_COB_DS_1_1

PRELIMINARY SPECIFICATION

version 1.0

2-1

2 system level description

n
ly

2.1 overview
The OV5647 is a low voltage, high performance, 5 megapixel CMOS image sensor that provides 2592x1944 video output
using OmniBSI™ technology. It provides multiple resolution raw images via the control of the serial camera control bus

O

or MIPI interface.

The OV5647 has an image array capable of operating up to 15 fps in 2592x1944 resolution with user control of image

quality, data transfer, camera functions through the SCCB interface. The OV5647 uses innovative OmniBSI technology

For customized application, the OV5647 includes a one-time programmable (OTP) memory.

tr

u

2.2 architecture

ly

to improve the sensor performance without the physical and optical trade-off.

The OV5647 sensor core generates streaming pixel data at a constant frame rate, indicated by HREF and VSYNC.
figure 2-1 shows the functional block of the OV5647 image sensor. figure 2-2 shows an example application of the

fo

e

DVP

ti
10-bit
ADC

AMP

black level
calibration

n

image
array

image output
interface

D[9:0]
MCP/N
MDP/N[1:0]

d

row select

column
sample/hold

image
sensor
processor

MIPI

a

image sensor core

FIFO

OV5647

l

OV5647 block diagram

DPC

figure 2-1

r

OV5647 sensor.

gain
control

PRELIMINARY SPECIFICATION

MIPI control
interface

SDA

PCLK

HREF

VSYNC

STROBE

FREX

GPIO[1:0]

RESETB

PWDN

TM

C

XCLK

SCCB slave
interface

timing generator
and system control logic

PLL

11.03.2009

control register bank

SCL

o

n

fi

50/60 Hz
auto detection

5647_DS_2_1

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

figure 2-2

reference design schematic

AVDD

2
19
50
3
21
25
48
40

DOVDD

HREF

U1

OV5647
BSI COB

DOVDD
PVDD

PCLK
RESETB

EVDD

PWDN

SGND

SCL

AGND

SDA

AGND

XCLK

AGND

VREF1

DOGND

VREF2

DOGND

FREX

DOGND

STROBE

DOGND

GPIO0

EGND

GPIO1

EGND

TM

PCLK

17

31

D0

19

29

VSYNC

21

27

HREF

28

R6

17

RESETB

15

D1

23

33-0603 PCLK

25
27

D5/MDN1 2

50-0603

D6/MCP

3

R17

50-0603

D7/MCN

4 J2

R18

50-0603

D8/MDP0 5

R19

50-0603

D9/MDN0 6

XCLK

14

VREFH

13

FREX
STROBE

9

GPIO0

8

GPIO1

20

TM

L1

3.3μH-1206

T4

D0

NC

NC

NC

NC

NC

GND

GND

2
1

12

SIOD

14

SIOC

R4

0-0603

R5

33-0603 XCLK

PWDN

16

18

20
22
D0

24

Do not populate.
R7

26
28

GPIO0

30

GPIO1

0-0603

FREX

32

0-0603

VIN

OUT

DOVDD
R2

3

GND

0-0603

Do not populate.
R8

C20 0.1μF-0603

3.3μH-1206

2
1

C4 0.1μF-0603

C19 0.1μF-0603

C18 0.1μF-0603

0-0603

U3
XC6206P282PR
L2

VIN

OUT

AVDD

3

GND

R10

0-0603

R11

0-0603

R12

0-0603

R13

0-0603

PVDD

VREFH
U4
XC6206P152PR

VREFN
L3

3.3μH-1206

DGND
TM R20

2
1

0-0603

C7 0.1μF-0603

T3

GND

D6/MCP

8 D8/MDP0

U2
XC6206P182PR

VDD

ti
C16 0.1μF-0603

C17 0.1μF-0603
T2

GND

XCLK

NC

R1

n
C15 0.1μF-0603
C26 0.1μF-0603 VREFN

e

C14 0.1μF-0603

C13 0.1μF-0603
C24 0.1μF-0603

C23 0.1μF-0603

T1

GND

6

10

Do not populate.

Close to respective power pins.
DOVDD
EVDD PVDD

C25 0.1μF-0603 VREFH

C12 0.1μF-0603

C11 0.1μF-0603
C22 0.1μF-0603

C21 0.1μF-0603

n
o
C

Close to respective power pins.
AVDD

29
31

VREFN

11
10

SIOC

D1

STROBE

fi

d

C10 0.1μF-0603

Close to respective power pins.
DVDD

PWR

C1 0.1μF-0603

50-0603

R16

PWR

SIOC

fo

R15

PCLK

SIOD

l

D4/MDP1 1

VSYNC

PWDN

a

50-0603

HREF

4

Do not populate R12, R13, R14, R15, R16, and R17.
R14

SIOD

5
45

n
ly

15

PWDN

NC

CON32A

13

VSYNC

RESET

J1

VSYNC

D1

HREF

r

43

DOVDD

32

VDD

D8

10μF/6V-EIA-A

7

D0

D2

D9

C3

0-0603

D1

DOVDD

D3

33

11

D6

D7

10μF/6V-EIA-A

37
R9

DVDD

34

9

D2

C6

44

D2

D4/MDP1

5

D9/MDN0 7

0-0603

2

4 D4/MDP1

VIN

OUT

DVDD

3

GND

10μF/6V-EIA-A

46

D3

DVDD

42

D7/MCN
Do not populate.
RESETB R3

D4

EVDD

C9

30
EVDD PVDD

DVDD

D6/MCP
D5/MDN1

D2

D5

O

24

D4/MDP1

D7/MCN

39
41

D3

C2 0.1μF-0603

12

D5/MDN1

DVDD

38

1

C5 0.1μF-0603

47

DVDD

D5/MDN1 3

C8 0.1μF-0603

23

D6/MCP

D3

D8/MDP0

ly

22
DOVDD

D7/MCN

AVDD

D9/MDN0

GND

16

AVDD

35
36

AGND

6

D8/MDP0

u

49

D9/MDN0

AVDD

DGND

26
DVDD

AVDD

tr

1
18

note 1 Connect FREX to GND if not used.
note 2 GND is system ground (power ground -- GND).
AGND and DGND are sensor analog and digital ground.
Connect different ground plans to a single point.

proprietary to OmniVision Technologies

5647_COB_DS_2_2

PRELIMINARY SPECIFICATION

version 1.0

2-3

2.3 format and frame rate

resolution

frame rate

scaling method

pixel clock

5 Mpixel

2592x1944

15 fps

full resolution

80 MHz

1080p

1920x1080

30 fps

cropping

68 MHz

960p

1280x960

45 fps

cropping, subsampling/ binning

91.2 MHz

720p

1280x720

60 fps

cropping, subsampling/ binning

92 MHz

VGA

640x480

90 fps

cropping, subsampling/ binning

QVGA

320x240

120 fps

cropping, subsampling/ binning

O

format

n
ly

format and frame rate

ly

table 2-1

46.5 MHz

tr

u

32.5 MHz

2.4 I/O control

r

2.4.1 system clock control

fo

The PLL is inside the chip which generates a default 96 MHz clock from 6~27 MHz input clock. An inside programmable
clock divider is used to generate different frame rate timing.

l

2.5 power up sequence

a

Based on the system power configuration (1.8V or 2.8V for I/O power), using external DVDD or internal DVDD, the power
up sequence will differ. If 1.8V is used for I/O power, using the internal DVDD is preferred. If 2.8V is used for I/O power,

ti

due to a high voltage drop at the internal DVDD regulator, there is a potential heat issue. Hence, for a 2.8V power system,

n

OmniVision recommends using an external DVDD source. Due to the higher power down current when using an external
DVDD source, OmniVision strongly recommends cutting off all power supplies, including the external DVDD, when the

e

sensor is not in use in the case of 2.8V I/O and external DVDD.

d

2.5.1 power up with internal DVDD

For powering up with the internal DVDD and SCCB access during the power ON period, the following conditions must

fi

occur:

if VDD-IO and VDD-A are turned ON at the same time, make sure VDD-IO becomes stable before VDD-A
becomes stable

2.

PWDN is active high with an asynchronized design (does not need clock)

3.

PWDN must go high during the power up period

C

o

n

1.

4.

for PWDN to go low, power must first become stable (AVDD to PWDN > 5 ms)

5.

RESETB is active low with an asynchronized design

6.

state of RESETB does not matter during power up period once DOVDD is up

7.

master clock XCLK should provide at least 1 ms before host accesses sensor’s SCCB

8.

host can access SCCB bus (if shared) during entire period. 20 ms after PWDN goes low or 20 ms after
RESETB goes high if reset is inserted after PWDN goes low, host can access sensor’s SCCB to initialize
sensor

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

figure 2-3

power up timing with internal DVDD
VDD_IO first, then VDD_A, and rising time is less than 5 ms

n
ly

T0
VDD_IO
(DOVDD)
T2

O

VDD_A
(AVDD)
power on period

SCCB activity is okay during entire period

u

SCCB

power down

ly

PWDN

5647_DS_2_3

tr

note T0 ≥ 0 ms: delay from VDD_IO stable to VDD_A stable
T2 ≥ 5 ms: delay from VDD_A stable to sensor power up stable

2.5.2 power up with external DVDD source

r

For powering up with an external DVDD source and SCCB access during the power ON period, the following conditions

fo

must occur:

if VDD-IO and VDD-A are turned ON at the same time, make sure VDD-IO becomes stable before VDD-A
becomes stable

2.

if VDD-A and VDD-D are turned ON at the same time, make sure VDD-A becomes stable before VDD-D becomes
stable

3.

PWDN is active high with an asynchronized design (does not need clock)

4.

for PWDN to go low, power must first become stable (DVDD to PWDN > 5 ms)

5.

all powers are cut off when the camera is not in use (power down mode is not recommended

7.

a

ti

n

state of RESETB does not matter during power up period once DOVDD is up
master clock XVCLK should provide at least 1 ms before host accesses sensor’s SCCB

d

8.

RESETB is active low with an asynchronized design

e

6.

l

1.

host can access SCCB bus (if shared) during entire period. 20 ms after PWDN goes low or 20 ms after
RESETB goes high if reset is inserted after PWDN goes high, host can access sensor’s SCCB to initialize
sensor

C

o

n

fi

9.

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

2-5

figure 2-4

power up timing with external DVDD source

T0

cut off power

VDD_IO
(DOVDD)
T1

O

VDD_A
(AVDD)

n
ly

VDD_IO first, then VDD_A, followed by VDD_D, and rising time is less than 5 ms

T2
VDD_D
(DVDD)

ly

power on period

5647_DS_2_4

fo

note T0 ≥ 0 ms: delay from VDD_IO stable to VDD_A stable
T1 ≥ 0 ms: delay from VDD_A stable to VDD_D stable
T2 ≥ 5 ms: delay from VDD_D stable to sensor power up stable

tr

SCCB activity is okay during entire period

r

SCCB

u

PWDN

2.6 reset

hardware reset

•

SCCB software reset

ti

•

a

l

Two reset modes are available for the OV5647:

n

The OV5647 sensor includes a RESETB pad that forces a complete hardware reset when it is pulled low (GND). The
OV5647 clears all registers and resets them to their default values when a hardware reset occurs. A reset can also be

e

initiated through the SCCB interface by setting register 0x0103[0] to high.

d

The whole chip will be reset during power up. Manually applying a hard reset upon power up is recommended even
though the on-chip power up reset is included. The hard reset is active low with an asynchronized design. The reset pulse

fi

width should be greater than or equal to 1 ms.

n

2.7 standby and sleep

•

hardware standby

C

•

o

Two suspend modes are available for the OV5647:

SCCB software sleep

To initiate hardware standby mode, the PWDN pad must be tied to high. When this occurs, the OV5647 internal device
clock is halted and all internal counters are reset and registers are maintained. Executing a software sleep (0x0100[0])
through the SCCB interface suspends internal circuit activity but does not halt the device clock. All register content is
maintained in both modes.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

3-1

3 block level description

The OV5647 sensor has an image array of 2624 columns by 1956 rows (5,132,544 pixels). figure 3-1 shows a
cross-section of the image sensor array.

n
ly

3.1 pixel array structure

O

The color filters are arranged in a Bayer pattern. The primary color BG/GR array is arranged in line-alternating fashion.

Of the 5,132,544 pixels, 5,038,848 (2592x1944) are active pixels and can be output. The other pixels are used for black

level calibration and interpolation. The center 2592x1944 is suggested to be output from the whole active pixel array. The

ly

backend processor can use the boundary pixels for additional processing.
The sensor array design is based on a field integration read-out system with line-by-line transfer and an electronic shutter

sensor array region color filter layout

tr

figure 3-1

u

with a synchronous pixel read-out scheme.

d

16
17
18
19

2604
2605
2606
2607

2620
2621
2622
2623

0 BGBG
1 GRGR
2 BGBG
3 GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

6 BGBG
7 GRGR
8 BGBG
9 GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

1946 B G B G
1947 G R G R
1948 B G B G
1949 G R G R

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

1952 B G B G
1953 G R G R
1954 B G B G
1955 G R G R

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

BGBG
GRGR
BGBG
GRGR

fo

dummy

l

a

ti

n

e

d

fi
n

active
pixel

o

dummy

r

0
1
2
3
rows

columns

active
pixel

dummy

dummy

C

56547_DS_3_1

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

3.2 binning
The OV5647 supports 2x2 binning for better SNR in low light conditions. See table 3-1 for horizontal and vertical binning

table 3-1

n
ly

registers.

default
value

R/W

0x3820

TIMING_TC_REG20

0x40

RW

0x3821

TIMING_TC_REG21

0x00

O

register name

description

ly

address

u

horizontal and vertical binning registers

Bit[0]:

Vertical binning
0:
Disable
1:
Enable

Bit[0]:

Horizontal binning
0:
Disable
1:
Enable

tr

RW

r

Sub-sampling is necessary when using binning.

fo

Sensor timing adjustment is necessary after applying binning. Please consult your local OmniVision FAE for details.

figure 3-2

d

e

n

ti

a

l

example of 2x2 binning

B
G
B
G

G
R
G
R

B G
G R

B
G
B
G

G
R
G
R

B
G
B
G

G
R
G
R

B
G
B
G

G
R
G
R

B G
G R
5647_DS_3_2

n

fi

3.3 analog amplifier

C

o

When the column sample/hold circuit has sampled one row of pixels, the pixel data will shift out one-by-one into an
analog amplifier.

3.4 10-bit A/D converters
The balanced signal is then digitized by the on-chip 10-bit ADC. It can operate at up to 27 MHz and is fully synchronous
to the pixel clock. The actual conversion rate is determined by the frame rate.

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

4-1

4 image sensor core digital functions

The OV5647 provides mirror and flip read-out modes, which respectively reverse the sensor data read-out order

n
ly

4.1 mirror and flip
horizontally and vertically (see figure 4-1). In flip mode, the OV5647 does not need additional settings because the ISP

mirror and flip samples

F

original image

mirrored image

ly

F

mirrored and flipped
image

default
value

register name

0x3820

TIMING_TC_REG20

0x3821

TIMING_TC_REG20

R/W

description

RW

Timing Control
Bit[2]:
r_vflip_isp
Bit[1]:
r_vflip_snr

RW

Timing Control
Bit[2]:
r_mirror_isp
Bit[1]:
r_mirror_snr

ti

address

a

mirror flip control registers

n

table 4-1

0x00

C

o

n

fi

d

e

0x40

5647_DS_4_1

l

fo

r

flipped image

tr

u

F

F

figure 4-1

O

block will auto-detect whether the pixel is in the red line or blue line and make the necessary adjustments.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.2 image windowing
An image windowing area is defined by four parameters, x_addr_start, x_addr_end, y_addr_start, y_addr_end. By

n
ly

properly setting the parameters, any portion or size within the sensor array can be defined as an visible area. This
windowing is achieved by simply masking the pixels outside the defined window; thus, it will not affect the original timing.

figure 4-2

sensor array size X

(0, 0)

HW

tr

u

ly

(HS, VS)

O

image windowing

VH

fo

r

sensor array
size Y

a

l

(HE, VE)

valid pixel (cropping) size

ti

sensor array size

e

n

5647_DS_4_2

d

register name

default
value

R/W

0x3800

TIMING_X_ADDR_START

0x00

RW

Bit[3:0]: x_addr_start[11:8]

0x3801

TIMING_X_ADDR_START

0x0C

RW

Bit[7:0]: x_addr_start[7:0]

0x3802

TIMING_Y_ADDR_START

0x00

RW

Bit[3:0]: y_addr_start[11:8]

0x3803

TIMING_Y_ADDR_START

0x04

RW

Bit[7:0]: y_addr_start[7:0]

0x3804

TIMING_X_ADDR_END

0x0A

RW

Bit[3:0]: x_addr_end[11:8]

0x3805

TIMING_X_ADDR_END

0x33

RW

Bit[7:0]: x_addr_end[7:0]

0x3806

TIMING_Y_ADDR_END

0x07

RW

Bit[3:0]: y_addr_end[11:8]

0x3807

TIMING_Y_ADDR_END

0xA3

RW

Bit[7:0]: y_addr_end[7:0]

o

n

address

C

image windowing registers

fi

table 4-2

proprietary to OmniVision Technologies

description

PRELIMINARY SPECIFICATION

version 1.0

4-3

4.3 test pattern
For testing purposes, the OV5647 offers three types of test patterns, color bar, square and random data.The OV5647

n
ly

also offers two effects: transparent effect and rolling bar effect. The output type of test pattern is controlled by register
0x503D[1:0] register (test_pattern_type).

4.3.1 color bar

O

There are four types of color bars shown in figure 4-3. The output type of color the color bar can be selected by bar style
register 0x503D[3:2].

color bar types

tr

u

ly

figure 4-3

color bar type 2

ti

a

l

fo

r

color bar type 1

color bar type 4
5647_DS_4_3

4.3.2 square

d

e

n

color bar type 3

There are two types of square: color square and black-white square. Register 0x503D[4] (squ_bw) determines which

n

color, black and white square bars

C

o

figure 4-4

fi

type of square will be output.

color square

black-white square
5647_DS_4_4

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.3.3 random data
There are two types of random data test pattern: frame-changing and frame-fixed random data. The output type of

n
ly

random data is decided by register 0x503E[4] (rnd_same). The random seed is set by register 0x503E[3:0] (rnd_seed).

4.3.4 transparent effect

The transparent effect is enabled by register 0x503D[5] (transparent_mode). If this register is set, the transparent test

transparent effect

tr

u

ly

figure 4-5

O

pattern will be gotten. figure 4-5 is a example which shows a transparent color bar image.

r

5647_DS_4_5

fo

4.3.5 rolling bar effect

The rolling bar is set by register 0x503D[6] (rolling_bar). If it is set, an inverted-color rolling bar will roll from up to down.

a

rolling bar effect

rolling bar effect
5647_DS_4_6

C

o

n

fi

d

e

n

ti

figure 4-6

l

figure 4-6 is a example which shows a rolling bar on color bar image.

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

4-5

address

test pattern registers
register name

default
value

R/W

description
test_pattern_en
0:
Disable
1:
Enable
Bit[6]:
rolling_bar
0:
Disable rolling bar
1:
Enable rolling bar
Bit[5]:
transparent_mode
0:
Disable
1:
Enable
Bit[4]:
squ_bw_mode
0:
Output square is color square
1:
Output square is black-white square
Bit[3:2]: bar_style
When set to different value, the different
type color bar will be output
Bit[1:0]: test_pattern_type
00: Color bar
01: Square
10: Random data
11: Input data

ISP CTRL3D

0x00

RW

fo

r

tr

u

0x503D

ly

O

Bit[7]:

n
ly

table 4-3

win_cut_en
isp_test
0:
Two lowest bits are 1
1:
Two lowest bits are 0
Bit[4]:
rnd_same
0:
Frame changing random data
pattern
1:
Frame-fixed random data pattern
Bit[3:0]: rnd_seed
Initial seed for random data pattern

ISP CTRL3E

0x00

RW

C

o

n

fi

d

e

n

ti

0x503E

a

l

Bit[6]:
Bit[5]:

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.4 50/60Hz detection
When the integration time is not an integer multiple of the period of light intensity, the image will flicker. The function of
time can be determined. Contact your local OmniVision FAE for auto detection settings.

default
value

register name

R/W

description

Bit[5:3]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings
Bit[2]:
band_def
Band50 default value
0:
60 Hz as default value
1:
50 Hz as default value
Bit[1:0]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings

0x00

RW

tr

50/60 HZ DETECTION
CTRL00

fo

r

0x3C00

u

ly

address

50/60 Hz detection control registers

O

table 4-4

n
ly

the detector is to detect whether the sensor is under a 50 Hz or 60 Hz light source so that the basic step of integration

50/60 HZ DETECTION
CTRL01

0x3C02~
0x3C0B

50/60 HZ DETECTION
CTRL02

0x00

RW

band_man_en
Band detection manual mode
0:
Manual mode disable
1:
Manual mode enable
Bit[6:0]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings

0x00

RW

Bit[7:0]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings

–

R

e

n

ti

a

l

0x3C01

Bit[7]:

50/60 HZ DETECTION
CTRL0C

Bit[0]:

band50
0:
Detection result is 60 Hz
1:
Detection result is 50 Hz

C

o

n

fi

d

0x3C0C

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

4-7

4.5 AEC and AGC algorithms

n
ly

4.5.1 overview
The Auto Exposure Control (AEC) and Auto Gain Control (AGC) allows the image sensor to adjust the image brightness
to a desired range by setting the proper exposure time and gain applied to the image. Besides automatic control,

table 4-5

O

exposure time and gain can be set manually from external control. The related registers are listed in table 4-5

AEC/AGC control function registers

address

register name

default
value

R/W

0x3500

EXPOSURE

0x00

RW

Bit[3:0]: Exposure[19:16]

0x3501

EXPOSURE

0x00

RW

Bit[7:0]: Exposure[15:8]

0x3502

EXPOSURE

0x20

RW

Bit[7:0]: Exposure[7:0]

RW

Bit[5:4]: Gain latch timing delay
x0: Gain has no latch delay
01: Gain delay of 1 frame
11: Gain delay of 2 frames
Bit[2]:
VTS manual
0:
Auto enable
1:
Manual enable
Bit[1]:
AGC manual
0:
Auto enable
1:
Manual enable
Bit[0]:
AEC manual
0:
Auto enable
1:
Manual enable

fo

r

tr

u

ly

description

MANUAL CTRL

0x350A

AGC

0x350B

AGC

0x350C
0x350D

0x00

e

RW

Bit[1:0]: Gain[9:8]
AGC real gain output high byte

0x00

RW

Bit[7:0]: Gain[7:0]
AGC real gain output low byte

VTS DIFF

0x06

RW

Bit[7:0]: vts_diff[15:8]
When in manual mode, set to 0x00

0x18

RW

Bit[7:0]: vts_diff[7:0]
When in manual mode, set to 0x00

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

fi

d

0x00

n

n

ti

a

l

0x3503

C

o

VTS DIFF

11.03.2009

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.5.2 average-based algorithm
The average-based AEC controls image luminance using registers WPT (0x3A0F), BPT (0x3A10), WPT2 (0x3A1B), and
BPT2 (0x3A1E). In average-based mode, the value of register WPT (0x3A0F) indicates the high threshold value for

n
ly

image change from unstable to stable state, and the value of register BPT (0x3A10) indicates the low threshold value for
image change from unstable to stable state. The value of register WPT2 (0x3A1B) indicates the high threshold value for
image change from stable state to unstable state and the value of register BPT2 (0x3A1E) indicates the low threshold
value for image change from stable state to unstable state. When the target image luminance average value AVG

O

(0x5693) is within the range specified by registers WPT2 (0x3A1B) and BPT2 (0x3A1E), the AEC keeps the image
exposure and gain. When register AVG (0x5693) is greater than the value in register WPT2 (0x3A1B), the AEC will
decrease the image exposure and gain until it falls into the range of {0x3A10, 0x3A0F}. When register AVG (0x5693) is

ly

less than the value in register BPT2 (0x3A1E), the AEC will increase the image exposure and gain until it falls into the
range of {0x3A10, 0x3A0F}. Accordingly, the value in register WPT (0x3A0F) should be greater than the value in register

u

BPT (0x3A10). The value of register WPT2 should be no less than the value of register WPT(0x3A0F), and the value of

tr

register BPT2 (0x3A1E) should be no greater than the value of BPT (0x3A10).
The AEC function supports both manual and auto speed selections in order to bring the image exposure into the range
set by the values in registers WPT (0x3A0F) and BPT (0x3A10). For manual speed mode, the step is fixed and supports

r

both normal and fast modes. AEC set to normal mode will allow for the slowest step increment or decrement in the image

fo

exposure to maintain the specified range. AEC set to fast mode will provide for an approximate ten-step increment or
decrement in the image exposure to maintain the specified range. For auto speed mode, the step will automatically be
adjusted according to the difference between the target and present values. The auto ratio of steps can be set by register

l

bits AEC CTRL05[4:0] (0x3A05).

a

Register HIGH VPT (0x3A11) and register LOW VPT (0x3A1F) controls the fast AEC range in manual speed mode. If
the target image AVG (0x5693) is greater than HIGH VPT (0x3A11), AEC will decrease by half. If register AVG (0x5693)

ti

is less than LOW VPT (0x3A1F), AEC will double, as shown in figure 4-7. These registers have no effect in auto speed

desired convergence

e

figure 4-7

n

mode.

desired convergence

control zone

stable operating region

C

o

n

fi

d

0x3A11

0x3A1F
5647_DS_4_7

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

4-9

average based control function registers

address

register name

default
value

R/W

0x3A0F

WPT

0x78

RW

Bit[7:0]: WPT
Stable range high limit (enter)

0x3A10

BPT

0x68

RW

Bit[7:0]: BPT
Stable range low limit (enter)

0x3A11

HIGH VPT

0xD0

RW

Bit[7:0]: vpt_high
Fast zone high limit when step ratio
auto mode is disabled

0x3A1B

WPT2

0x78

RW

Bit[7:0]: wpt2
Stable range high limit
(from stable state to unstable state)

0x3A1E

BPT2

0x68

RW

Bit[7:0]: bpt2
Stable range low limit
(from stable state to unstable state)

0x3A1F

LOW VPT

0x40

RW

Bit[7:0]: vpt_low
Fast zone low limit when step ratio
auto mode is disabled

description

fo

r

tr

u

ly

O

n
ly

table 4-6

l

For the average-based AEC/AGC algorithm, the measured window is horizontally and vertically adjustable and divided

a

by sixteen (4x4) zones (see figure 4-5). Each zone (or block) is 1/16th of the image and has a 4-bit weight in calculating
the average luminance (YAVG). The final YAVG is the weighted average of the sixteen zones. The 4-bit weight could be

C

o

n

fi

d

e

n

ti

n/16 where n is from 0 to 15.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.5.3 average luminance (YAVG)
Auto exposure time calculation is based on a frame brightness average value. By properly setting x_start, x_end, y_start,
and y_end as shown in figure 4-8, a 4x4 grid average window is defined. It will automatically divide each zone into 4x4

figure 4-8

n
ly

zones. The average value is the weighted average of the 16 sections. table 4-7 lists the corresponding registers.

sensor array size X

3

4

5

6

7

8

9

10

11

12

13

14

15

u

2

average
window
size

fo

r

sensor array
size Y

1

Y

tr

VH

0

X

ly

HW

start

O

average-based window definition

ti

a

l

end

n

average luminance control function registers (sheet 1 of 2)

register
name

default
value

R/W

0x5680

XSTART

0x00

RW

Bit[3:0]: x_start[11:8]
Horizontal start position for average window high
byte

0x5681

XSTART

0x00

RW

Bit[7:0]: x_start[7:0]
Horizontal start position for average window low
byte

0x5682

YSTART

0x00

RW

Bit[3:0]: y_start[11:8]
Vertical start position for average window low byte

0x5683

YSTART

0x00

RW

Bit[7:0]: y_start[7:0]
Vertical start position for average window low byte

0x5684

X WINDOW

0x0A

RW

Bit[4:0]: Window X in manual average window mode
high byte

C

o

n

d
address

fi

e

table 4-7

5647_DS_4_8

proprietary to OmniVision Technologies

description

PRELIMINARY SPECIFICATION

version 1.0

4-11

average luminance control function registers (sheet 2 of 2)

address

register
name

default
value

R/W

0x5685

X WINDOW

0x20

RW

Bit[7:0]: Window X in manual average window mode
low byte

0x5686

Y WINDOW

0x07

RW

Bit[3:0]: Window Y in manual average window mode
high byte

0x5687

Y WINDOW

0x98

RW

Bit[7:0]: Window Y in manual average window mode
low byte

0x5688

WEIGHT00

0x11

RW

Bit[7:4]: Window1 weight
Bit[3:0]: Window0 weight

0x5689

WEIGHT01

0x11

RW

Bit[7:4]: Window3 weight
Bit[3:0]: Window2 weight

0x568A

WEIGHT02

0x11

RW

Bit[7:4]: Window5 weight
Bit[3:0]: Window4 weight

0x568B

WEIGHT03

0x11

RW

Bit[7:4]: Window7 weight
Bit[3:0]: Window6 weight

0x568C

WEIGHT04

0x11

RW

Bit[7:4]: Window9 weight
Bit[3:0]: Window8 weight

0x568D

WEIGHT05

0x11

RW

Bit[7:4]: Window11 weight
Bit[3:0]: Window10 weight

0x568E

WEIGHT06

0x11

RW

0x568F

WEIGHT07

0x11

RW

description

–

Bit[7:4]: Window13 weight
Bit[3:0]: Window12 weight

ti

n
AVG
READOUT

e

0x5693

–

d

AVG CTRL10

R

R

Bit[7:4]: Window15 weight
Bit[3:0]: Window14 weight
Bit[1]:
Bit[0]:

avg_opt
avg_man
0:
Auto average window
1:
Manual average window

Bit[7:0]: avg value

C

o

n

fi

0x5690

a

l

fo

r

tr

u

ly

O

n
ly

table 4-7

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.6 AEC/AGC steps
The AEC and AGC work together to obtain adequate exposure/gain based on the current environmental illumination. In

n
ly

order to achieve the best signal-to-noise ratio (SNR), extending the exposure time is always preferred rather than raising
the gain when the current illumination is getting brighter. Vice versa, under dark conditions, the action to decrease the
gain is always taken prior to shortening the exposure time.

O

4.6.1 auto exposure control (AEC)

The function of the AEC is to calculate the necessary integration time of the next frame and send the information to the
timing control block. Based on the statistics of previous frames, the AEC is able to determine whether the integration time

ly

should increase, decrease, fast increase, fast decrease, or remain the same.
In extremely bright situations, the LAEC activates, allowing integration time to be less than one row. In extremely dark

u

situations, the night mode activates, allowing integration time to be larger than one frame.

tr

To avoid image flickering under a periodic light source, the integration time can be adjusted in steps of integer multiples
of the period of the light source.

r

4.6.2 LAEC
be set in register bit 0x3A00[6].

4.6.3 banding mode ON with AEC

fo

If the integration time is only one row period but the image is too bright, AEC will enter LAEC mode. LAEC ON/OFF can

a

l

In Banding ON mode, the exposure time will fall in steps of integer multiples of the period of light intensity.

ti

Banding ON/OFF can be set in register 0x3A00[5].
For a given light flickering frequency, the band step can be expressed in units of row period.

n

The band steps for 50Hz and 60Hz light sources can be set in registers {0x3A08[1:0], 0x3A09[7:0]} and {0x3A0A[1:0],

e

0x3A0B[7:0]}, respectively.
Banding mode OFF with AEC

•

When banding mode is OFF, integration time increases/decreases as normal. It is not necessarily multiples of band
steps.

fi

d

•

4.6.4 night mode

n

The OV5647 supports long integration time such as 1 frame, 2 frames, 3 frames, 4 frames, 5 frames, 6 frames, 7 frames,

C

o

and 8 frames in dark conditions. This is achieved by slowing down the original frame rate and waiting for exposure. Night
mode ceiling can be set in register bits 0x3A02[15:8], 0x3A03[7:0]. Night mode can be disabled by setting register bit
0x3A00[2] to 0. Also, when in night mode, the increase and decrease step can be based on band or frames, depending
on register 0x3A05[6]. The minimum increase/decrease step can be one band. The step can be based both on bands
and frames.

4.6.5 auto gain control (AGC)
Unlike prolonging integration time, increasing gain will amplify both signal and noise. Thus, AGC usually starts after AEC
is full. However, in cases where adjacent AEC step changes are too large (>1/16), AGC steps should be inserted in
between. The AGC ceiling can be set in {0x3A18[1:0], 0x3A19[7:0]}.

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

4-13

4.7 black level calibration (BLC)
The pixel array contains several optically shielded (black) lines. These lines are used as reference for black level

adjusting all normal pixel values based on the values of the black levels

•

applying multiplication to all pixel values based on digital gain

BLC CTRL00

0x89

R/W

description

RW

BLC Control
(0: disable, 1: enable)
Bit[7]:
blc_median_filter_enable
Bit[3]:
adc_11bit_mode
Bit[2]:
apply2blackline
Bit[1]:
blackline_averageframe
Bit[0]:
BLC enable

r

tr

0x4000

default
value

register name

ly

address

BLC control functions

u

table 4-8

O

•

n
ly

calibration. There are three main functions of the BLC:

BLC CTRL02

0x45

RW

BLC CTRL05

0x18

Bit[1]:

d
fi

BLACK LEVEL

0x10

RW

one_line_mode
remove_none_imagedata
blc_man_1_en
blackline_bggr_man_en
0:
bgbg/grgr is decided by
rblue/hswap
1:
bgbg/grgr fix;
bgbg/grgr is decided by
rblue/hswap
blc_always_up_en
0:
Normal freeze
1:
BLC always update

Bit[7:0]: blc_blackleveltarget0

C

o

n

0x4009

Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:

RW

e

0x4005

n

ti

a

l

0x4002

format_change_en
format_change_i from fmt will be
effect when it is enable
Bit[6]:
blc_auto_en
Bit[5:0]: reset_frame_num

fo

Bit[7]:

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.8 strobe flash and frame exposure

n
ly

4.8.1 strobe flash control
The strobe signal is programmable. It supports both LED and Xenon modes. The polarity of the pulse can be changed.
The strobe signal is enabled (turned high/low depending on the pulse’s polarity) by requesting the signal via the SCCB
interface. Flash modules are triggered by the rising edge by default or by the falling edge if the signal polarity is changed.

output

AEC / AGC

AWB

xenon

one-pulse

no

no

LED 1

pulse

no

no

LED 2

pulse

no

yes

LED 3

continuous

yes

yes

fo

r

mode

u

ly

flashlight modes

tr

table 4-9

O

It supports the following flashlight modes (see table 4-9).

4.9 xenon flash control

l

After a strobe request is submitted, the strobe pulse will be activated at the beginning of the third frame (see figure 4-9).

a

The third frame will be correctly exposed. The pulse width can be changed in Xenon mode between 1H and 4H,

xenon flash mode

n

figure 4-9

ti

depending on register 0x3B00[3:2], where H is one row period.

C

o

n

fi

d

e

vertical
blanking

exposure
time

data
out

strobe
request

strobe
pulse

request here

correctly
exposed
frame

proprietary to OmniVision Technologies

zoomed
strobe
pulse
1H

PRELIMINARY SPECIFICATION

5647_DS_4_9

version 1.0

4-15

4.9.1 LED1 & 2 mode
Two frames after the strobe request is submitted, the third frame is correctly exposed. The strobe pulse will be activated
activated intermittently until the strobe end request is set (see figure 4-11). The number of skipped frames is
programmable using registers {0x3A1C, 0x3A1D}.

LED 1 & 2 mode - one pulse output
frame in

O

figure 4-10

n
ly

only one time if the strobe end request is set correctly (see figure 4-10). If end request is not sent, the strobe signal is

is skipped

ly

vertical
blanking

tr

u

exposure
time

fo

r

data
out

strobe
request
end

strobe
pulse

n

ti

request here

the number of skipped frames
is programmable
5647_DS_4_10

C

o

n

fi

d

e

correctly
exposed
frame

a

l

start

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

figure 4-11

LED 1 & 2 mode - multiple pulse output
frame in

is skipped

n
ly

vertical
blanking

O

exposure
time

ly

data
out

strobe
request

u

start

tr

strobe
pulse
request here

correctly
exposed
frame

5647_DS_4_11

fo

r

the number of skipped frames
is programmable

4.9.2 LED 3 mode

a

LED 3 mode

e

n

vertical
blanking

ti

figure 4-12

l

In LED 3 mode, the strobe signal stays active until the strobe end request is sent (see figure 4-12).

C

o

n

fi

d

exposure
time

data
out

strobe
request
start

end

strobe
signal
correctly
exposed
frame

request here

proprietary to OmniVision Technologies

request here

5647_DS_4_12

PRELIMINARY SPECIFICATION

version 1.0

4-17

4.10 frame exposure (FREX) mode

In FREX mode, whole frame pixels start integration at the same time, rather than integrating row by row. After the

n
ly

4.10.1 FREX control
user-defined exposure time (0x3B01, 0x3B04, 0x3B05), the shutter closes, preventing further integration and the image

begins to read out. After the readout finishes, the shutter opens again and the sensor resumes normal mode, waiting for

O

the next FREX request.
The OV5647 supports two modes of FREX (see figure 4-13):

mode 1: Frame exposure and shutter control requests come from the external system via the FREX pin. The sensor
will send a strobe output signal to control the flash light

•

mode 2: Frame exposure request comes from the external system via the SCCB register 0x3B08[0]. The sensor
will output two signals, shutter control signal through the FREX pin and strobe signal through the STROBE pin

FREX modes

tr

figure 4-13

u

ly

•

fo

FREX
sensor

r

mode 1

STROBE

FREX

sensor

STROBE
5647_DS_4_13

n

ti

SCCB

a

l

mode 2

In mode 1, the FREX pin is configured as an input while it is configured as an output in mode 2. In both mode 1 and mode

e

2, the strobe output is irrelevant with the rolling strobe function. When in rolling shutter mode, the strobe function and

C

o

n

fi

d

this FREX/shutter control function do not work at the same time.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

4.11 FREX strobe flash control

table 4-10

default
value

register name

R/W

description

O

address

FREX strobe control functions

n
ly

See table 4-10 for FREX strobe control functions.

u

ly

Strobe Control
Bit[7]:
Strobe request ON/OFF
0:
OFF/BLC
1:
ON
Bit[6]:
Strobe pulse reverse
Bit[3:2]: width_in_xenon
00: 1 row period
01: 2 row period
10: 3 row period
11: 4 row period
Bit[1:0]: Strobe mode
00: xenon
01: LED 1
10: LED 2
11: LED 3

STROBE CTRL

0x00

RW

0x3B01

STROBE_FREX_EXP_H2

0x00

RW

Bit[7:0]: frex_exp[23:16]

0x3B02

STROBE_SHUTTER_DLY

0x08

RW

Bit[4:0]: shutter_dly[12:8]

0x3B03

STROBE_SHUTTER_DLY

0x00

RW

Bit[7:0]: shutter_dly[7:0]

0x3B04

STROBE_FREX_EXP_H

0x04

RW

Bit[7:0]: frex_exp[15:8]

0x3B05

STROBE_ FREX_EXP_L

0x00

RW

Bit[7:0]: frex_exp[7:0]

e

n

ti

a

l

fo

r

tr

0x3B00

FREX CTRL

0x04

RW

d

0x3B06

0x3B07

STROBE_
FREX_MODE_SEL

0x08

RW

Bit[3]:
fx1_fm_en
Bit[2]:
frex_inv
Bit[1:0]: FREX mode select
00: frex_strobe mode0
01: frex_strobe mode1
1x: Rolling strobe

0x3B08

STROBE_FREX_EXP_REQ

0x00

RW

Bit[0]:

0x3B09

FREX_SHUTTER_DELAY

0x00

RW

Bit[2:0]: frex end option

0x3B0A

STROBE_FREX_RST_
LENGTH

0x04

RW

Bit[2:0]: frex_rst_length[2:0]

0x3B0B

STROBE_WIDTH

0x00

RW

Bit[7:0]: frex_strobe_width[19:12]

0x3B0C

STROBE_WIDTH

0x3D

RW

Bit[7:0]: frex_strobe_width[11:4]

fi
n
o
C

FREX Control
Bit[7:6]: frex_pchg_width
Bit[5:4]: frex_strobe_option
Bit[3:0]: frex_strobe_width[3:0]

proprietary to OmniVision Technologies

frex_exp_req

PRELIMINARY SPECIFICATION

version 1.0

4-19

4.12 one-time programmable (OTP) memory
The OV5647 supports a maximum of 256 bits of one-time programmable (OTP) memory to store chip identification and

0x3D00

OTP_DATA_0

0x00

RW

OTP Buffer 0

0x3D01

OTP_DATA_1

0x00

RW

OTP Buffer 1

0x3D02

OTP_DATA_2

0x00

RW

OTP Buffer 2

0x3D03

OTP_DATA_3

0x00

RW

OTP Buffer 3

0x3D04

OTP_DATA_4

0x00

RW

OTP Buffer 4

0x3D05

OTP_DATA_5

0x00

RW

OTP Buffer 5

0x3D06

OTP_DATA_6

0x00

RW

OTP Buffer 6

0x3D07

OTP_DATA_7

0x00

RW

0x3D08

OTP_DATA_8

0x00

RW

0x3D09

OTP_DATA_9

0x00

RW

OTP Buffer 9

0x3D0A

OTP_DATA_A

0x00

RW

OTP Buffer A

0x3D0B

OTP_DATA_B

0x00

RW

ti

OTP Buffer B

0x3D0C

OTP_DATA_C

0x00

OTP Buffer C

0x3D0D

OTP_DATA_D

n

RW

0x00

RW

OTP Buffer D

0x3D0E

OTP_DATA_E

0x00

RW

OTP Buffer E

0x3D0F

OTP_DATA_F

0x00

RW

OTP Buffer F

0x3D10

OTP_DATA_16

0x00

RW

OTP Buffer 10

0x3D11

OTP_DATA_17

0x00

RW

OTP Buffer 11

OTP_DATA_18

0x00

RW

OTP Buffer 12

OTP_DATA_19

0x00

RW

OTP Buffer 13

0x3D14

OTP_DATA_20

0x00

RW

OTP Buffer 14

0x3D15

OTP_DATA_21

0x00

RW

OTP Buffer 15

0x3D16

OTP_DATA_22

0x00

RW

OTP Buffer 16

0x3D17

OTP_DATA_23

0x00

RW

OTP Buffer 17

0x3D13

11.03.2009

d

fi

o

0x3D12

O

description

ly

R/W

u

default
value

fo

r

tr

register name

e

address

n

OTP control function registers (sheet 1 of 2)

C

table 4-11

n
ly

manufacturing information. It can be controlled through the SCCB (see table 4-11).

OTP Buffer 7

a

l

OTP Buffer 8

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

register name

default
value

R/W

description

0x3D18

OTP_DATA_24

0x00

RW

OTP Buffer 18

0x3D19

OTP_DATA_25

0x00

RW

OTP Buffer 19

0x3D1A

OTP_DATA_26

0x00

RW

OTP Buffer 1A

0x3D1B

OTP_DATA_27

0x00

RW

OTP Buffer 1B

0x3D1C

OTP_DATA_28

0x00

RW

OTP Buffer 1C

0x3D1D

OTP_DATA_29

0x00

RW

0x3D1E

OTP_DATA_30

0x00

RW

0x3D1F

OTP_DATA_31

0x00

RW

O

address

OTP Buffer 1D

u

OTP Buffer 1E
OTP Buffer 1F

tr
OTP_PROGRAM_
CTRL

n

RW
Bit[0]:

OTP_wr_busy
OTP_program_speed
0:
Fast
1:
Slow
OTP_program_enable
Changing from 0 to 1 initiates OTP
programming
OTP_rd_busy
OTPspeed
0:
Fast
1:
Slow
OTP_load_enable
Changing from 0 to 1 initiates OTP
read

C

o

n

fi

d

e

0x00

Bit[0]:

Bit[7]:
Bit[1]:

l
a

OTP_LOAD_CTRL

ti

0x3D21

Bit[7]:
Bit[1]:

RW

r

0x00

fo

0x3D20

n
ly

OTP control function registers (sheet 2 of 2)

ly

table 4-11

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

5-1

5 image sensor processor digital functions

description
Bit[7]:

Bit[2]:
0x5000

ISP CTRL00

0xFF

RW
Bit[1]:

0x01

RW

fo

ISP CTRL01

0x41

n
e
d

ISP CTRL03

Bit[0]:

Bit[3]:

Bit[2]:
0x0A

RW

fi

0x5003

Bit[1]:

RW

ti

ISP CTRL02

a

l

Bit[6]:

0x5002

n

Bit[1]:

o
C

0x5005

11.03.2009

Bit[4]:

ISP CTRL05

0x14

RW

PRELIMINARY SPECIFICATION

lenc_en
0:
Disable
1:
Enable
bc_en
0:
Disable
1:
Enable
wc_en
0:
Disable
1:
Enable
awb_en
0:
Disable
1:
Enable

r

Bit[0]:
0x5001

O

R/W

ly

default
value

register name

u

address

ISP general control registers (sheet 1 of 3)

tr

table 5-1

n
ly

5.1 ISP general controls

Bit[2]:

win_en
0:
Disable
1:
Enable
otp_en
0:
Disable
1:
Enable
awb_gain_en
0:
Disable
1:
Enable
buf_en
0:
Disable
1:
Enable
bin_man_set
0:
Manual value as 0
1:
Manual value as 1
bin_auto_en
0:
Disable
1:
Enable
awb_bias_on
0:
Disable AWB bias
1:
Enable AWB bias
lenc_bias_on
0:
Disable LENC bias
1:
Enable LENC bias

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

ISP general control registers (sheet 2 of 3)
default
value

register name

R/W

description

n
ly

table 5-1

Bit[5]:

0x03

RW

O

ISP CTRL1F

ly

0x501F

enable_opt
0:
Not latched by VSYNC
1:
Enable latched by VSYNC
Bit[4]:
cal_sel
0:
DPC cal_start using SOF
1:
DPC cal_start using VSYNC
Bit[2:0]: fmt_sel
010: ISP output data
011: ISP input data bypass

u

0x00

RW

tr

ISP CTRL25

fo

r

0x5025

a

l

Bit[7]:

ti
n

ISP CTRL3D

0x00

RW

test_pattern_en
0:
Disable
1:
Enable
Bit[6]:
rolling_bar
0:
Disable rolling bar
1:
Enable rolling bar
Bit[5]:
transparent_mode
0:
Disable
1:
Enable
Bit[4]:
squ_bw_mode
0:
Output square is color
square
1:
Output square is black-white
square
Bit[3:2]: bar_style
When set to a different value, a
different type of color bar is output
Bit[1:0]: test_pattern_type
00: Color bar
01: Square
10: Random data
11: Input data

C

o

n

fi

d

e

0x503D

Bit[1:0]: avg_sel
00: Inputs of AVG module are
from LENC output
01: Inputs of AVG module are
from AWB gain output
10: Inputs of AVG module are
from DPC output
11: Inputs of AVG module are
from binning output

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

5-3

address

ISP general control registers (sheet 3 of 3)
default
value

register name

R/W

description

ISP CTRL3E

0x00

RW

ISP CTRL46

0x09

RW

Bit[0]:

fo

r

0x5046

awbg_en
0:
Disable
1:
Enable
isp_en
0:
Disable
1:
Enable

tr

Bit[3]:

u

ly

0x503E

win_cut_en
isp_test
0:
Two lowest bits are 1
1:
Two lowest bits are 0
Bit[4]:
rnd_same
0:
Frame-changing random
data pattern
1:
Frame-fixed random data
pattern
Bit[3:0]: rnd_seed
Initial seed for random data
pattern

O

Bit[6]:
Bit[5]:

n
ly

table 5-1

0x30

RW

l

ISP CTRL4B

C

o

n

fi

d

e

n

ti

a

0x504B

ISP Control
(0: disable; 1: enable)
Bit[5]:
post_binning h_enable
Bit[4]:
post_binning v_enable
Bit[3]:
flip_man_en
Bit[2]:
flip_man
Bit[1]:
mirror_man_en
Bit[0]:
Mirror

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

5.2 lens correction (LENC)
The main purpose of the LENC is to compensate for lens imperfection. According to the area where each pixel is located,

n
ly

the module calculates a gain for the pixel, correcting each pixel with its gain calculated to compensate for the light
distribution due to lens curvature. The LENC correcting curve automatic calculation according sensor gain is also added
so that the LENC can adapt with the sensor gain. Also, the LENC supports the subsample function in both horizontal and

O

vertical directions.

Registers 0x5888 ~ 0x588F need to change only when DSP input is not generated internally. In other words, the DSP

LENC control registers (sheet 1 of 2)
register name

default
value

R/W

0x5000

ISP CTRL00

0x89

0x583E

MAX GAIN

0x40

RW

Bit[7:0]: max_gain

0x583F

MIN GAIN

0x20

RW

Bit[7:0]: min_gain

0x5840

MIN Q

0x18

RW

Bit[6:0]: min_q

u

address

tr

table 5-2

ly

input is from an external sensor.

Bit[7]:

r

RW

l

fo

description

LENC CTRL59

0x0D

RW

e

0x5841

n

ti

a

Bit[3]:

o

n

fi

d

Bit[1]:
Bit[0]:

BR HSCALE

0x01

0x5843

BR HSCALE

proprietary to OmniVision Technologies

0x2B

ADDBLC
0:
Disable BLC add back
function
1:
Enable BLC add back
function
blc_en
0:
Disable BLC function
1:
Enable BLC function
gain_man_en
autoq_en
0:
Used constant Q (0x40)
1:
Used calculated Q

RW

Bit[3:0]: br_hscale[11:8]
Reciprocal of horizontal step for
BR channel. BR channel in whole
image is divided into 5x5 blocks.
The step is used to point to the
border of the adjacent block

RW

Bit[7:0]: br_hscale[7:0]
Reciprocal of horizontal step for
BR channel. BR channel in whole
image is divided into 5x5 blocks.
The step is used to point to the
border of the adjacent block

C

0x5842

Bit[2]:

lenc_en
0:
Disable
1:
Enable

PRELIMINARY SPECIFICATION

version 1.0

5-5

address

default
value

register name

BR VSCALE

0x01

R/W

description

RW

Bit[2:0]: br_vscale[10:8]
Reciprocal of vertical step for BR
channel. BR channel in whole
image is divided into 5x5 blocks.
The step is used to point to the
border of the adjacent block

RW

Bit[7:0]: br_vscale[7:0]
Reciprocal of vertical step for BR
channel. BR channel in whole
image is divided into 5x5 blocks.
The step is used to point to the
border of the adjacent block

RW

Bit[3:0]: g_hscale[11:8]
Reciprocal of horizontal step for G
channel. G channel in whole
image is divided into 6x6 blocks.
The step is used to point to the
border of the adjacent block

BR VSCALE

0x8D

G HSCALE

0x01

fo

r

0x5846

tr

u

0x5845

ly

O

0x5844

LENC control registers (sheet 2 of 2)

n
ly

table 5-2

0x8F

RW

l

G HSCALE

G VSCALE

0x01

RW

Bit[2:0]: g_vscale[10:8]
Reciprocal of vertical step for G
channel. G channel in whole
image is divided into 6x6 blocks.
The step is used to point to the
border of the adjacent block

RW

Bit[7:0]: g_vscale[7:0]
Reciprocal of vertical step for G
channel. G channel in whole
image is divided into 6x6 blocks.
The step is used to point to the
border of the adjacent block

fi

d

e

0x5848

n

ti

a

0x5847

G VSCALE

0x09

C

o

n

0x5849

Bit[7:0]: g_hscale[7:0]
Reciprocal of horizontal step for G
channel. G channel in whole
image is divided into 6x6 blocks.
The step is used to point to the
border of the adjacent block

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

5.3 defect pixel cancellation (DPC)
Due to processes and other reasons, pixel defects in the sensor array will occur. Thus, these bad or wounded pixels will

n
ly

generate wrong color values. The main purpose of Defect Pixel Cancellation (DPC) function is to remove the effect
caused by these bad or wounded pixels. Also, some special functions are available for those pixels located at the image

address

defect pixel cancellation registers
default
value

register name

R/W

description

ly

table 5-3

O

boundary. To remove the defect pixel effect correctly, the proper threshold should first be determined.

ISP CTRL00

0xFF

0x5780~
0x5791

DPC CTRL

–

RW

Bit[1]:

tr

0x5000

u

Bit[2]:

Debug Control
Changing these registers is not recommended

fo

r

RW

bc_en
0:
Disable
1:
Enable
wc_en
0:
Disable
1:
Enable

l

5.4 auto white balance (AWB)

a

The main function of Auto White Balance (AWB) is the process of removing unrealistic color casts so that objects which

ti

appear white in person are rendered white in the image or video. Thus, the AWB makes sure that the white color is
always a white color in different color temperatures. It supports manual white balance and auto white balance. For auto

e

n

white balance, simple AWB is supplied. For auto white balance, the adjust option is also provided for the customer.

register name

default
value

R/W

0x5001

ISP CTRL01

0x01

RW

fi

address

description
Bit[1]:

awb_en
0:
Disable
1:
Enable

C

o

n

AWB control registers (sheet 1 of 3)

d

table 5-4

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

5-7

description
Bit[6]:

Bit[5]:

Bit[4]:
0x5180

AWB CTRL

0x00

RW

tr

Bit[3]:

fast_awb
0:
Disable fast AWB calculation
function
1:
Enable fast AWB calculation
function
freeze_gain_en
When it is enabled, the output
AWB gains will be input AWB
gains
freeze_sum_en
When it is set, the sums and
averages value will be same as
previous frame
gain_man_en
0:
Output calculated gains
1:
Output manual gains set by
registers
start_sel
0:
Select the last HREF falling
edge of before gain input as
calculated start signal
1:
Select the last HREF falling
edge of after gain input as
calculated start signal

n
ly

R/W

O

default
value

register name

ly

address

AWB control registers (sheet 2 of 3)

u

table 5-4

a

l

fo

r

Bit[2]:

0x04

RW

Bit[7:0]: stable_range

STABLE RANGEW

0x08

RW

Bit[7:0]: stable_rangew
Wide stable range

0x5184

HSIZE_MAN

0x01

RW

Bit[3:0]: hsize_man[11:8]

0x5185

HSIZE_MAN

0xE0

RW

Bit[7:0]: hsize_man[7:0]

0x5186

MANUAL RED GAIN
MSB

0x04

RW

Bit[3:0]: red_gain_man[11:8]

MANUAL RED GAIN
LSB

0x00

RW

Bit[7:0]: red_gain_man[7:0]

0x5188

MANUAL GREEN
GAIN MSB

0x04

RW

Bit[3:0]: grn_gain_man[11:8]

0x5189

MANUAL GREEN
GAIN LSB

0x00

RW

Bit[7:0]: grn_gain_man[7:0]

STABLE RANGE

0x5183

fi

n

o

C

0x5187

11.03.2009

n

0x5182

0x20

e

AWB DELTA

d

0x5181

ti
RW

Bit[7]:
delta_opt
Bit[6]:
base_man_en
Bit[5:0]: awb_delta
Delta value to increase or
decrease the gains

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

AWB control registers (sheet 3 of 3)
default
value

R/W

MANUAL BLUE GAIN
MSB

0x04

RW

Bit[3:0]: blu_gain_man[11:8]

MANUAL BLUE GAIN
LSB

0x00

RW

Bit[7:0]: blu_gain_man[7:0]

RW

Bit[7:4]: red_gain_up_limit
Bit[3:0]: red_gain_dn_limit
They are only the highest 4 bits of
limitation.
Max red gain is
{red_gan_up_limit,FF}
Min red gain is
{red_gain_dn_limit,00}

register name

0x518A
0x518B

description

RED GAIN LIMIT

0xF0

tr

u

0x518C

ly

O

address

n
ly

table 5-4

RW

RW

Bit[7:4]: blue_gain_up_limit
Bit[3:0]: blue_gain_dn_limit
They are only the highest 4 bits of
limitation.
Max blue gain is
{blue_gan_up_limit,FF}
Min blue gain is
{blue_gain_dn_limit,00}

r

GREEN GAIN LIMIT

0xF0

ti

BLUE GAIN LIMIT

0xF0

e

n

0x518E

a

l

fo

0x518D

Bit[7:4]: green_gain_up_limit
Bit[3:0]: green_gain_dn_limit
They are only the highest 4 bits of
limitation.
Max green gain is
{green_gan_up_limit,FF}
Min green gain is
{green_gain_dn_limit,00}

fi

d

5.5 post binning function

n

CFA image subsample will suffer zig_zag issues around slant edges and color shift for it is an non-uniform method in

C

o

physical coordinate. Post binning will map these pixels to their physically correct location.

table 5-5

post binning control registers

address

register name

default
value

R/W

description

0x5003

ISP CTRL3

0x0A

RW

Bit[2]:

bin_en

0x504B

ISP CTRL75

0x30

RW

Bit[5]:
Bit[4]:

h_en
v_en

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

6-1

6 image sensor output interface digital functions

n
ly

6.1 system control
System control registers include clock, reset control, and PLL configure.

O

system control registers (sheet 1 of 4)
default
value

R/W

SC_CMMN_PAD_
OEN0

0x00

RW

io_y_oen[11:8]

SC_CMMN_PAD_
OEN1

0x00

RW

io_y_oen[7:0]
Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

ly
u

tr

0x3001

io_vsync_oen
io_href_oen
io_pclk_oen
io_frex_oen
io_strobe_oen
io_sda_oen
io_gpio1_oen
io_gpio0_oen

SC_CMMN_PAD_
OEN2

0x00

RW

0x3006

SC_CMMN_PLL_
CTR13

0x00

RW

0x3008

SC_CMMN_PAD_
OUT0

0x00

RW

Bit[3:0]: io_y_o[11:8]

0x3009

SC_CMMN_PAD_
OUT1

0x00

RW

Bit[7:0]: io_y_o[7:0]

0x300A

SC_CMMN_CHIP_ID

0x56

R

Chip ID High

0x300B

SC_CMMN_CHIP_ID

0x47

R

Chip ID Low

0x300C

SC_CMMN_SCCB_ID

0x6C

RW

SCCB ID

n

e

ti

a

l

fo

0x3002

n

0x3000

description

d

register name

fi

address

r

table 6-1

0x300E

11.03.2009

SC_CMMN_PAD_
OUT2

0x00

RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

SC_CMMN_PAD_
SEL0

0x00

RW

Bit[3:0]: io_y_sel[11:8]

o

C

0x300D

Bit[5:2]: SDIV
Clock divider for 50/60 Hz
detection block

PRELIMINARY SPECIFICATION

io_vsync_o
io_href_o
io_pclk_o
io_frex_o
io_strobe_o
io_sda_o
io_gpio1_o
io_gpio0_o

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

system control registers (sheet 2 of 4)
register name

0x300F

SC_CMMN_PAD_
SEL1

SC_CMMN_PAD_
SEL2

R/W

0x00

RW

Bit[7:0]: io_y_sel[7:0]

RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x00

description

io_vsync_sel
io_href_sel
io_pclk_sel
io_frex_sel
io_strobe_sel
io_sda_sel
io_gpio1_sel
io_gpio0_sel

ly

0x3010

default
value

n
ly

address

O

table 6-1

u

0x02

RW

tr

SC_CMMN_PAD_PK

0x00

RW

Bit[7:4]: Debug control
Changing these registers is not
recommended
Bit[3]:
bp_regulator
0:
Enable internal regulator
1:
Disable internal regulator
Bit[2:0]: Debug control
Changing these registers is not
recommended

0x0B

RW

Bit[6:4]: apd[2:0]
Bit[3:0]: DIO

RW

Bit[7:6]: LPH
Bit[3]:
mipi_pad_enable
Bit[2]:
pgm_bp_hs_en_lat
btpass the latch of hs_enable
Bit[1:0]: ictl[1:0]
Bias current adjustment

RW

Bit[7:6]: pgm_vcm[1:0]
High speed common mode
voltage
Bit[5:4]: pgm_lptx[1:0]
01: Driving strength of low speed
transmitter
Bit[3]:
IHALF
Bias current reduction
Bit[2]:
pgm_vicd
CD input low voltage
Bit[1]:
pgm_vih
CD input high voltage-dummy
Bit[0]:
pgm_hs_valid
Valid delay-dummy

fo

r

0x3011

SC_CMMN_A_PWC_
PK_O

0x3014

SC_CMMN_A_PWC_
PK_O

e

n

ti

a

l

0x3013

SC_CMMN_MIPI_
PHY

0x00

C

o

n

fi

d

0x3016

0x3017

SC_CMMN_MIPI_
PHY

proprietary to OmniVision Technologies

Bit[7]:
pd_dato_en
Bit[6:5]: iP2X3v[3:2]
Bit[1]:
frex_enb
0:
Enable
1:
Disable

0x10

PRELIMINARY SPECIFICATION

version 1.0

6-3

default
value

register name

R/W

description
Bit[7:5]: mipi_lane_mode
0:
One lane mode
1:
Two lane mode
Bit[4]:
r_phy_pd_mipi
1:
Power donw PHY HS TX
Bit[3]:
r_phy_pd_lprx
1:
Power down PHY LP RX
module
Bit[2]:
mipi_en
0:
DVP enable
1:
MIPI enable
Bit[1]:
mipi_susp_reg
MIPI system Suspend register
1:
suspend
Bit[0]:
lane_dis_op
0:
Use mipi_release1/2 and
lane_disable1/2 to disable
two data lane
1:
Use lane_disable1/2 to
disable two data lane

SC_CMMN_MIPI_
SC_CTRL

0x58

RW

0x3019

SC_CMMN_MIPI_
SC_CTRL

0x10

RW

Bit[7:0]: MIPI ULPS resume mark1 detect
length
Bit[5]:

Bit[2]:
Bit[1]:
Bit[0]:

fst_stby_ctr
1:
Software standby enter at
l_blk
0:
Software standby enter at
v_blk
mipi_ctr_en
1:
Enable MIPI remote reset
and suspend control SC
0:
Disable the function
mipi_rst_sel
0:
MIPI remote reset all
registers
1:
MIPI remote reset all digital
modules
gpio_pclk_en
frex_ef_sel
cen_global_o
lptx_ck_opt
pull_down_clk_lane
pull_down_data_lane2
pull_down_data_lane1

e

n

ti

a

l

fo

r

tr

u

0x3018

ly

O

address

system control registers (sheet 3 of 4)

n
ly

table 6-1

SC_CMMN_MISC_
CTRL

0x23

RW
Bit[3]:

C

o

n

fi

d

0x3021

Bit[4]:

0x3022

SC_CMMN_MIPI_
SC_CTRL

0x00

RW

Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x302A

SC_CMMN_SUB_ID

–

R

Bit[7:4]: Process
Bit[3:0]: Version

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

system control registers (sheet 4 of 4)
default
value

register name

0x3034

SC_CMMN_PLL_
CTRL0

0x1A

R/W

description

RW

Bit[6:4]: pll_charge_pump
Bit[3:0]: mipi_bit_mode
0000: 8 bit mode
0001: 10 bit mode
Others: Reserved to future use
Bit[7:4]: system_clk_div
Will slow down all clocks
Bit[3:0]: scale_divider_mipi
MIPI PCLK/SERCLK can be
slowed down when image is
scaled down

SC_CMMN_PLL_
CTRL1

0x11

RW

0x3036

SC_CMMN_PLL_
MULTIPLIER

0x69

RW

tr

u

0x3035

ly

O

address

n
ly

table 6-1

Bit[7:0]: PLL_multiplier (4~252) can be
any integer during 4~127 and only
even integer during 128~252

RW

0x00

RW

Bit[7]:

pll_bypass

0x00

RW

Bit[7]:

plls_bypass

SC_CMMN_PLLS_
CTRL1

0x19

RW

Bit[4:0]: plls_multiplier

SC_CMMN_PLLS_
CTRL2

0x11

RW

Bit[6:4]: plls_cp
Bit[3:0]: plls_sys_div

RW

Bit[5:4]: plls_pre_div
00: /1
01: /1.5
10: /2
11: /3
Bit[2]:
plls_div_r
0:
/1
1:
/2
Bit[1:0]: plls_seld5
00: /1
01: /1
10: /2
11: /2.5

SC_CMMN_PLL_
CTRL_R

0x303A

SC_CMMN_PLLS_
CTRL0

0x303B

fo

0x3039

0x303D

ti

n

SC_CMMN_PLLS_
CTRL3

C

o

n

fi

d

e

0x303C

a

l

SC_CMMN_PLL_
CTR13

r

0x03

pll_root_div
0:
Bypass
1:
/2
Bit[3:0]: pll_prediv
1, 2, 3, 4, 6, 8

0x3037

Bit[4]:

proprietary to OmniVision Technologies

0x30

PRELIMINARY SPECIFICATION

version 1.0

6-5

6.2 SCCB

register name

default
value

R/W

0x3100

SCCB CTRL

0x00

RW

description
Bit[3]:
r_sda_dly_en
Bit[2:0]: r_sda_dly
Bit[4]:
Bit[3]:

SCCB OPT

0x12

RW

Bit[2]:

en_ss_addr_inc
r_sda_byp_sync
0:
Two clock stage SYNC
for sda_i
1:
No sync for sda_i
r_scl_byp_sync
0:
Two clock stage SYNC
for scl_i
1:
No sync for scl_i
r_msk_glitch
r_msk_stop

Bit[1]:
Bit[0]:
0x00

RW

Bit[7:4]: r_sda_num
Bit[3:0]: r_scl_num

r

SCCB FILTER

fo

0x3102

0x00

RW

l

SCCB SYSREG

ti

a

0x3103

0x3105

PADCLK DIV

0x11

RW

Bit[5]:
SCLK use p_clk_i
Bit[4]:
Sleep enable
Bit[3:0]: PADCLK divider for SCCB

RW

Bit[3:2]: PLL clock divider
00: pll_sclk
01: pll_sclk/2
10: pll_sclk/4
11: pll_sclk
Bit[1]:
rst_arb
1:
Reset arbiter
Bit[0]:
sclk_arb
1:
Enable SCLK to arbiter

d

fi
n
o

SRB CTRL

11.03.2009

r_srb_clk_syn_en
pwup_dis2
pwup_dis1
pll_clk_sel
pwup_dis0

RW

0xF9

C

0x3106

ctrl_rst_mipisc
ctrl_rst_srb
ctrl_rst_sccb_s
ctrl_rst_pon_sccb_s
ctrl_rst_clkmod
ctrl_rst_mipi_phy_rst_o
ctrl_pll_rst_o

0x01

n

PWUP DIS

Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

e

0x3104

tr

u

0x3101

O

address

n
ly

system control registers

ly

table 6-2

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

6.3 group register write

n
ly

The OV5647 supports group register write with up to four groups. Each group could have up to 16 registers.
Example settings:
6C 0x3208 0x00; Group 0 begin

O

6C 0x3503 0x03; register 1
6C 0x3501 0x7A; register 2

ly

6C 0x3502 0xA0; register 3
6C 0x3208 0x10; Group 0 end

tr

group hold control registers

r

description

0x00

fo

RW

Group0 Start Address in SRAM, actual
address is {0x3200[3:0], 4'h0}

0x04

RW

Group1 Start Address in SRAM, actual
address is {0x3201[3:0], 4'h0}

0x08

RW

Group2 Start Address in SRAM, actual
address is {0x3202[3:0], 4'h0}

GROUP ADR3

0x0B

RW

Group3 sStart Address in SRAM, actual
address is {0x3203[3:0], 4'h0}

GROUP LEN0

–

R

Length of Group0

0x3205

GROUP LEN1

–

R

Length of Group1

0x3206

GROUP LEN2

–

R

Length of Group2

0x3207

GROUP LEN3

–

R

Length of Group3

register name

0x3200

GROUP ADR0

0x3201

GROUP ADR1

0x3202

GROUP ADR2

0x3203

C

o

ti

n

n

e

0x3204

a

address

l

R/W

d

default
value

fi

table 6-3

u

6C 0x3208 0xA0; write register group 0

0x3208

GROUP ACCESS

proprietary to OmniVision Technologies

–

W

Bit[7:4]: Group_ctrl
0000: Enter group write mode
0001: Exit group write mode
1010: Initiate group write
Bit[3:0]: Group ID
0000: Group 0
0001: Group 1
0010: Group 2
0011: Group 3

PRELIMINARY SPECIFICATION

version 1.0

6-7

6.4 timing control

n
ly

timing control registers (sheet 1 of 2)

address

register name

default
value

R/W

0x3800

TIMING_X_ADDR_START

0x00

RW

Bit[3:0]: x_addr_start[11:8]

0x3801

TIMING_X_ADDR_START

0x0C

RW

Bit[7:0]: x_addr_start[7:0]

0x3802

TIMING_Y_ADDR_START

0x00

RW

Bit[3:0]: y_addr_start[11:8]

0x3803

TIMING_Y_ADDR_START

0x04

RW

Bit[7:0]: y_addr_start[7:0]

0x3804

TIMING_X_ADDR_END

0x0A

RW

Bit[3:0]: x_addr_end[11:8]

0x3805

TIMING_X_ADDR_END

0x33

RW

Bit[7:0]: x_addr_end[7:0]

0x3806

TIMING_Y_ADDR_END

0x07

RW

Bit[3:0]: y_addr_end[11:8]

0x3807

TIMING_Y_ADDR_END

0xA3

RW

Bit[7:0]: y_addr_end[7:0]

0x3808

TIMING_X_OUTPUT_SIZE

0x0A

RW

Bit[3:0]: DVP output horizontal width[11:8]

0x3809

TIMING_X_OUTPUT_SIZE

0x20

RW

0x380A

TIMING_Y_OUTPUT_SIZE

0x07

RW

0x380B

TIMING_Y_OUTPUT_SIZE

0x98

RW

0x380C

TIMING_HTS

0x0A

0x380D

TIMING_HTS

0x8C

a

table 6-4

0x380E

TIMING_VTS

0x380F

TIMING_VTS

0x3810

TIMING_ISP_X_WIN

0x3811

fo

r

tr

u

ly

O

description

Bit[7:0]: DVP output horizontal width[7:0]

Bit[3:0]: DVP output vertical height[11:8]

Bit[4:0]: Total horizontal size[12:8]

RW

Bit[7:0]: Total horizontal size[7:0]

0x07

RW

Bit[1:0]: Total vertical size[9:8]

0xB0

RW

Bit[7:0]: Total vertical size[7:0]

0x00

RW

Bit[3:0]: ISP horizontal offset[11:8]

TIMING_ISP_X_WIN

0x04

RW

Bit[7:0]: ISP horizontal offset[7:0]

0x3812

TIMING_ISP_Y_WIN

0x00

RW

Bit[3:0]: ISP vertical offset[11:8]

0x3813

TIMING_ISP_Y_WIN

0x02

RW

Bit[7:0]: ISP vertical offset[7:0]

TIMING_X_INC

0x11

RW

Bit[7:4]: h_odd_inc
Horizontal subsample odd increase
number
Bit[3:0]: h_even_inc
Horizontal subsample even increase
number

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

11.03.2009

n
e

d

fi

o

C

0x3814

ti

RW

n

l

Bit[7:0]: DVP output vertical height[7:0]

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

timing control registers (sheet 2 of 2)
default
value

register name

R/W

description

n
ly

table 6-4

TIMING_Y_INC

0x11

RW

0x3816

TIMING_HSYNCST

0x00

RW

Bit[3:0]: HSYNC start point[11:8]

0x3817

TIMING_HSYNCST

0x00

RW

Bit[7:0]: HSYNC start point[7:0]

0x3818

TIMING_HSYNCW

0x00

RW

0x3819

TIMING_HSYNCW

0x00

RW

0x3820

TIMING_TC_REG20

0x40

0x3821

TIMING_TC_REG21

0x00

0x3822

TIMING_TC_REG22

ly

O

0x3815

Bit[7:4]: v_odd_inc
Vertical subsample odd increase
number
Bit[3:0]: v_even_inc
Vertical subsample even increase
number

u

Bit[3:0]: HSYNC window[11:8]

RW

Bit[2]:
Bit[1]:
Bit[0]:

r_mirror_isp
r_mirror_snr
r_hbin

0x10

RW

Bit[4:0]: r_ablc

tr

r_vflip_isp
r_vflip_snr
r_vbin

RW

a

l

fo

Bit[2]:
Bit[1]:
Bit[0]:

r

Bit[7:0]: HSYNC window[7:0]

n

strobe control registers (sheet 1 of 2)

e

table 6-5

ti

6.5 strobe

register name

default
value

R/W

fi

d

address

description
Bit[7]:
Bit[6]:
Bit[3:2]:
Bit[1:0]:

0x3B00

STROBE_RSTRB

0x00

RW

0x3B01

STROBE_FREX_EXP_H2

0x00

RW

Bit[7:0]: frex_exp[23:16]

0x3B02

STROBE_SHUTTER_DLY

0x08

RW

Bit[4:0]: shutter_dly[12:8]

0x3B03

STROBE_SHUTTER_DLY

0x00

RW

Bit[7:0]: shutter_dly[7:0]

0x3B04

STROBE_FREX_EXP_H

0x04

RW

Bit[7:0]: frex_exp[15:8]

0x3B05

STROBE_ FREX_EXP_L

0x00

RW

Bit[7:0]: frex_exp[7:0]

n
o
C

Strobe ON
Reverse
width_in_xenon
Mode select
00: Xenon
01: LED1
10: LED2
11: LED3

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

6-9

strobe control registers (sheet 2 of 2)

address

register name

default
value

R/W

0x3B06

STROBE_FREX_CTRL0

0x04

RW

description
Bit[7:6]: frex_pchg_width
Bit[5:4]: frex_strobe_option
Bit[3:0]: frex_strobe_width[3:0]

0x3B07

STROBE_ FREX_MODE_SEL

0x08

RW

Bit[4]:
Bit[3]:
Bit[2]:
Bit[1:0]:

0x3B08

STROBE_FREX_EXP_REQ

0x00

RW

Bit[0]:

frex_exp_req

0x3B09

FREX_SHUTTER_DELAY

0x00

RW

Bit[2:0]: FREX end option

0x3B0A

STROBE_FREX_RST_LENGTH

0x04

RW

Bit[2:0]: frex_rst_length[2:0]

0x3B0B

STROBE_WIDTH

0x00

RW

Bit[7:0]: frex_strobe_width [19:12]

0x3B0C

STROBE_WIDTH

0x3D

RW

Bit[7:0]: frex_strobe_width[11:4]

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

frex_sa1
fx1_fm_en
frex_inv
Frex mode select
00: frex_strobe mode 0
01: frex_strobe mode 1
1x: Rolling strobe

n
ly

table 6-5

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

6.6 frame control (FC)

frame control registers

address

register name

default
value

R/W

description

0x4200

FRAME CONTROL00

0x00

RW

Bit[2]:
Bit[1]:
Bit[0]:

FRAME CONTROL02

0x00

ly

RW

u

0x00

Control Passed Frame Number
Bit[3:0]: Frame ON number
When both ON and OFF numbers are set
to 0x00, frame control is in bypass mode

RW

FRAME CONTROL03

0x00

Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

RW

rblue_mask_dis
data_mask_dis
valid_mask_dis
href_mask_dis
eof_mask_dis
sof_mask_dis
all_mask_dis

ti

a

l

0x4203

Control Masked Frame Number
Bit[3:0]: Frame OFF number
When both ON and OFF numbers are set
to 0x00, frame control is in bypass mode

fo

r

0x4202

FRAME CONTROL01

fcnt_eof_sel
fcnt_mask_dis
Frame counter reset

tr

0x4201

O

table 6-6

n
ly

Frame control (FC) is used to mask some specified frame by setting the appropriate registers.

e

n

6.7 digital video port (DVP)
The Digital Video Port (DVP) provides 10-bit parallel data output in all formats supported and extended features including

fi

d

compression mode, HSYNC mode, CCIR656 mode, and test pattern output.

C

o

n

table 6-7

system control registers (sheet 1 of 2)

address

register name

default
value

R/W

description

0x4700

DVP MODE SELECT

0x04

RW

Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x4701

DVP VSYNC WIDTH
CONTRL

0x01

RW

VSYNC Width (in terms of number of lines)

0x4702

DVP_HSYVSY_NEG_WIDTH

0x01

RW

Bit[7:0]: VSYNC length in terms of pixel
count[15:8]

proprietary to OmniVision Technologies

CCIR v select
CCIR f select
CCIR656 mode enable
HSYNC mode enable

PRELIMINARY SPECIFICATION

version 1.0

6-11

system control registers (sheet 2 of 2)

address

register name

default
value

R/W

0x4703

DVP_HSYVSY_NEG_WIDTH

0x00

RW

Bit[7:0]: VSYNC length in terms of pixel
count[7:0]

0x4704

DVP VSYNC MODE

0x00

RW

Bit[3:2]: r_vsyncount_sel
Bit[1]:
r_vsync3_mod
Bit[0]:
r_vsync2_mod

0x4705

DVP_EOF_VSYNC DELAY

0x00

RW

Bit[7:0]: eof_vsync_delay[23:16]
SOF/EOF negative edge to
VSYNC positive edge delay

0x4706

DVP_EOF_VSYNC DELAY

0x00

RW

Bit[7:0]: eof_vsync_delay[15:8]
SOF/EOF negative edge to
VSYNC positive edge dealy

0x4707

DVP_EOF_VSYNC DELAY

0x00

RW

Bit[7:0]: eof_vsync_delay[7:0]
SOF/EOF negative edge to
VSYNC positive edge delay

RW

Bit[7]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

Clock DDR mode enable
VSYNC gated clock enable
HREF gated clock enable
No first for FIFO
HREF polarity reverse
VSYNC polarity reverse
PCLK polarity reverse

RW

Bit[7]:
Bit[6:4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

FIFO bypass mode
Data bit swap
Bit test mode
10-bit bit test
8-bit bit test
Bit test enable

0x00

RW

Bit[7:0]: bypass_ctrl[15:8]

0x00

RW

Bit[7:0]: bypass_ctrl[7:0]

0x00

RW

Bit[4]:
HREF select
Bit[3:0]: Bypass select

description

DVP_POL_CTRL

0x01

BIT_TEST_PATTERN

0x470A

DVP_BYP_CTRL

0x470B

DVP_BYP_CTRL

0x470C

DVP_BYP_SEL

0x00

C

o

n

fi

d

e

n

0x4709

ti

a

l

0x4708

fo

r

tr

u

ly

O

n
ly

table 6-7

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

6.7.1 DVP timing

figure 6-1

n
ly

DVP timing diagram
(1)

VSYNC
(4)

(3)

(5)

O

(2)

(7)
HREF

D[9:0]

5313600 tp(2700x1968)
2956 tp
29624 tp
2700 tp
32328 tp
2592 tp
108 tp

(1)
(2)
(3)
(4)
(5)
(6)
(7)

2260992 tp (2048x1104)
2304 tp
22472 tp
2048 tp
24504 tp
1920 tp
128 tp

960p
1280x960

(1)
(2)
(3)
(4)
(5)
(6)
(7)

2015232 tp (2048x984)
2304 tp
12872 tp
2048 tp
34744 tp
1280 tp
768 tp

720p
1280x720

(1)
(2)
(3)
(4)
(5)
(6)
(7)

1523712 tp (2048x744)
2304 tp
21064 tp
2048 tp
26552 tp
1280 tp
768 tp

fo

r

(1)
(2)
(3)
(4)
(5)
(6)
(7)

d

timing

tr

DVP timing specifications (sheet 1 of 2)

mode

The timing values
shown in table 6-8 may
vary depending upon
register settings.

5647_DS_6_1

u

invalid data

table 6-8

note

ly

(6)

C

o

n

fi

e

n

1080p
1920x1080

ti

a

l

5 Megapixel
2592x1944

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

6-13

1032192 tp (2048x504)
2304 tp
13512 tp
2048 tp
34744 tp
640 tp
1408 tp

QVGA
320x240

(1)
(2)
(3)
(4)
(5)
(6)
(7)

540672 tp (2048x264)
2304 tp
13832 tp
2048 tp
34744 tp
320 tp
1728 tp

O

VGA
640x480

(1)
(2)
(3)
(4)
(5)
(6)
(7)

ly

timing

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

mode

n
ly

DVP timing specifications (sheet 2 of 2)

u

table 6-8

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

6.8 mobile industry processor interface (MIPI)
MIPI provides a single uni-directional clock lane and two bi-directional data lane solution for communication links

n
ly

between components inside a mobile device. The two data lanes have full support for HS (uni-directional) and LP

table 6-9

default
value

register name

R/W

description

MIPI Control 00
Bit[7]:
mipi_hs_only
0:
MIPI can support CD and ESCAPE
mode
1:
MIPI always in High Speed mode
Bit[6]:
ck_mark1_en
1:
Enable clock lane mark1 when
resume
Bit[5]:
Clock lane gate enable
0:
Clock lane is free running
1:
Gate clock lane when no packet to
transmit
Bit[4]:
Line sync enable
0:
Do not send line short packet for
each line
1:
Send line short packet for each line
Bit[3]:
Lane select
0:
Use lane1 as default data lane
1:
Use lane2 as default data lane
Bit[2]:
Idle status
0:
MIPI bus will be LP00 when no
packet to transmit
1:
MIPI bus will be LP11 when no
packet to transmit
Bit[1]:
Clock lane first bits
0:
Output 0x55
1:
Output 0xAA
Bit[0]:
Clock lane disable
1:
Manually set clock lane to low power
mode

fo

r

tr

u

ly

address

MIPI transmitter registers (sheet 1 of 8)

O

(bi-directional) data transfer mode.

0x04

l

MIPI CTRL 00

RW

C

o

n

fi

d

e

n

ti

a

0x4800

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

6-15

default
value

register name

R/W

description

RW

MIPI Control 01
Bit[7]:
Long packet data type manual enable
0:
Use mipi_dt
1:
Use dt_man_o as long packet data
(see register 0x4814[5:0])
Bit[6]:
Short packet data type manual enable
1:
Use dt_spkt as short packet data
(see register 0x4815[5:0])
Bit[5]:
Short packet WORD COUNTER manual
enable
0:
Use frame counter or line counter
1:
Select spkt_wc_reg_o
(see {0x4812, 0x4813})
Bit[4]:
PH bit order for ECC
0:
{DI[7:0],WC[7:0],WC[15:8]}
1:
{DI[0:7],WC[0:7],WC[8:15]}
Bit[3]:
PH byte order for ECC
0:
{DI,WC_l,WC_h}
1:
{DI,WC_h,WC_l}
Bit[2]:
PH byte order2 for ECC
0:
{DI,WC}
1:
{WC,DI}
Bit[1]:
mark1_en1
1:
After each rst release, lane 1 should
send mark1 for wkup_dly_o when
mipi_sys_susp =1
Bit[0]:
mark1_en2
1:
After each reset release, lane 2
should send mark1 for wkup_dly_o
when mipi_sys_susp=1

MIPI CTRL 01

0x0F

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4801

tr

u

ly

O

address

MIPI transmitter registers (sheet 2 of 8)

n
ly

table 6-9

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 6-9

default
value

register name

R/W

description

n
ly

address

MIPI transmitter registers (sheet 3 of 8)

MIPI CTRL 02

0x00

RW

0x4803

MIPI CTRL 03

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4802

tr

u

ly

O

MIPI Control 02
Bit[7]:
hs_prepare_sel
0:
Auto calculate T_hs_prepare, unit
pclk2x
1:
Use hs_prepare_min_o[7:0]
Bit[6]:
clk_prepare_sel
0:
Auto calculate T_clk_prepare, unit
pclk2x
1:
Use clk_prepare_min_o[7:0]
Bit[5]:
clk_post_sel
0:
Auto calculate T_clk_post, unit
pclk2x
1:
Use clk_post_min_o[7:0]
Bit[4]:
clk_trail_sel
0:
Auto calculate T_clk_trail, unit pclk2x
1:
Use clk_trail_min_o[7:0]
Bit[3]:
hs_exit_sel
0:
Auto calculate T_hs_exit, unit pclk2x
1:
Use hs_exit_min_o[7:0]
Bit[2]:
hs_zero_sel
0:
Auto calculate T_hs_zero, unit pclk2x
1:
Use hs_zero_min_o[7:0]
Bit[1]:
hs_trail_sel
0:
Auto calculate T_hs_trail, unit pclk2x
1:
Use hs_trail.min_o[7:0]
Bit[0]:
clk_zero_sel
0:
Auto calculate T_clk_zero, unit
pclk2x
1:
Use clk_zero_min_o[7:0]

proprietary to OmniVision Technologies

0x50

RW

MIPI Control 03
Bit[7:6]: lp_glitch_nu
0:
Use 2d of lp_in
1:
Mask one sclk cycle glitch of lp_in
Bit[5:4]: cd_glitch_nu
0:
Use 2d of lp_cd_in
1:
Mask one SCLK cycle glitch of
lp_cd_in
Bit[3]:
Enable CD plus of data lane1
0:
Disable
1:
Enable
Bit[2]:
Enable CD plus of data lane2
0:
Disable
1:
Enable
Bit[1]:
Enable CD of data_lane1 from PHY
0:
Disable
1:
Enable
Bit[0]:
Enable CD of data_lane2 from PHY
0:
Disable
1:
Enable

PRELIMINARY SPECIFICATION

version 1.0

6-17

table 6-9

default
value

register name

R/W

description

RW

MIPI Control 04
Bit[7]:
wait_pkt_end
1:
Wait HS packet end when send UL
command
Bit[6]:
tx_lsb_first
0:
lp_tx and lp_rx high bit first
1:
Low power transmit low bit first
Bit[5]:
dir_recover_sel
0:
Auto change to output only when
TurnAround command
1:
Auto change to output when LP11
and GPIO is output
Bit[4]:
mipi_reg_en
0:
Disable MIPI_REG_P to access
registers, LP data will write to VFIFO
1:
Enable MIPI_REG_P to access
registers
Bit[3]:
Address read/write register will auto add 1
0:
Disable
1:
Enable
Bit[2]:
LP TX lane select
0:
Select lane1 to transmit LP data
1:
Select lane2 to transmit LP data
Bit[1]:
wr_first_byte
1:
lp_rx will write first byte (command
byte) to RAM
Bit[0]:
rd_ta_en
1:
Send TurnAround command after
sending register read data

MIPI CTRL 04

0x8D

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4804

tr

u

ly

O

n
ly

address

MIPI transmitter registers (sheet 4 of 8)

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 6-9

default
value

register name

R/W

description

RW

MIPI Control 05
Bit[7]:
MIPI lane1 disable
1:
Disable MIPI data lane1, lane1 will be
LP00
Bit[6]:
MIPI lane2 disable
1:
Disable MIPI data lane2, lane2 will be
LP00
Bit[5]:
lpx_p_sel
0:
Automatically calculate t_lpx_o in
pclkex domain, unit pclk2x
1:
Use lp_p_min[7:0]
Bit[4]:
lp_rx_intr_sel
0:
Send lp_rx_intr_o at the first byte
1:
Send lp_rx_intr_o at the end of
receiving
Bit[3]:
cd_tst_sel
1:
Select PHY test pins
Bit[2]:
mipi_reg_mask
1:
Disable MIPI access SRB
Bit[1]:
clip enable
Bit[0]:
hd_sk_en
0:
Disable MIPI and MCU handshake
registers
1:
Disable MIPI and MCU handshake
registers

MIPI CTRL 05

0x10

a

l

fo

r

tr

0x4805

u

ly

O

n
ly

address

MIPI transmitter registers (sheet 5 of 8)

ti

Bit[7]:

d

e

n

Bit[6]:
Bit[5]:

MIPI REG RW CTRL

0x28

RW

n

fi

0x4806

Bit[4]:

Bit[3]:
Bit[2]:

o

Bit[1]:

C

Bit[0]:

0x480A

MIPI BIT ORDER

proprietary to OmniVision Technologies

0x00

RW

prbs_en
Test mode
mipi_test
mipi_lp_op
0:
Use new option to reduce
mipi_lptx_p
two_lane_man_en
1:
Use two_lane_man to manually
control two_lane_mode
two_lane_man
rst_rtn_en
1:
Change to input to allow host RW
register after reset
frame_end_en
1:
After frame end packet, change to
input to allow host RW register
line_end_en
1:
After line end packet, change to input
to allow host RW register

Bit[2]:
Bit order reverse
Bit[1:0]: Bit position adjustment
01: {D[7:0],D[9:8]}
10: {D[1:0],D[9:2]}

PRELIMINARY SPECIFICATION

version 1.0

6-19

MIPI transmitter registers (sheet 6 of 8)
R/W

description

MIPI MAX FRAME
COUNT

0xFF

RW

High Byte of Max Frame Count of Frame Sync Short
Packet

0x4811

MIPI MAX FRAME
COUNT

0xFF

RW

Low Byte of Max Frame Count of Frame Sync Short
Packet

0x4814

MIPI CTRL14

0x2A

RW

MIPI Control 14
Bit[7:6]: Virtual channel of MIPI
Bit[5:0]: Data type in manual mode

0x4810

ly

register name

O

default
value

address

n
ly

table 6-9

pclk_div
0:
Use rising edge of mipi_pclk_o to
generate MIPI bus to PHY
1:
Use falling edge of mipi_pclk_o to
generate MIPI bus to PHY
Bit[5:0]: Manual data type for short packet

MIPI_DT_SPKT

0x00

RW

0x4818

HS_ZERO_MIN

0x00

RW

High byte of the minimum value for hs_zero
Unit ns

0x4819

HS_ZERO_MIN

0x96

RW

Low byte of the minimum value for hs_zero, unit ns
hs_zero_real = hs_zero_min_o +
Tui*ui_hs_zero_min_o

0x481A

HS_TRAIL_MIN

0x00

RW

High byte of the minimum value for hs_trail, unit ns

0x481B

HS_TRAIL_MIN

0x3C

RW

0x481C

CLK_ZERO_MIN

0x01

0x481D

CLK_ZERO_MIN

0x86

0x481E

CLK_PREPARE_MIN

0x481F

CLK_PREPARE_MIN

0x4820

l

fo

r

tr

u

0x4815

ti

Bit[6]:

a

Low byte of the minimum value for hs_trail,
hs_trail_real = hs_trail_min_o + Tui*ui_hs_trail_min_o

High byte of the minimum value for clk_zero, unit ns
Low byte of the minimum value for clk_zero,
clk_zero_real = clk_zero_min_o +
Tui*ui_clk_zero_min_o

0x00

RW

High byte of the minimum value for clk_prepare, unit ns
Bit[1:0]: clk_prepare_min[9:8]

0x3C

RW

Low byte of the minimum value for clk_prepare
clk_prepare_real = clk_prepare_min_o +
Tui*ui_clk_prepare_min_o

CLK_POST_MIN

0x00

RW

High byte of the minimum value for clk_post, unit ns
Bit[1:0]: clk_post_min[9:8]

0x4821

CLK_POST_MIN

0x56

RW

Low byte of the minimum value for clk_post
clk_post_real = clk_post_min_o +
Tui*ui_clk_post_min_o

0x4822

CLK_TRAIL_MIN

0x00

RW

High byte of the minimum value for clk_trail, unit ns
Bit[1:0]: clk_trail_min[9:8]

0x4823

CLK_TRAIL_MIN

0x3C

RW

Low byte of the minimum value for clk_trail
clk_trail_real = clk_trail_min_o + Tui*ui_clk_trail_min_o

e

d

fi

o

C

11.03.2009

n

RW

n

RW

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

MIPI transmitter registers (sheet 7 of 8)
register name

default
value

R/W

description

0x4824

LPX_P_MIN

0x00

RW

High byte of the minimum value for lpx_p, unit ns
Bit[1:0]: lpx_p_min[9:8]

0x4825

LPX_P_MIN

0x32

RW

Low byte of the minimum value for lpx_p
lpx_p_real = lpx_p_min_o + Tui*ui_lpx_p_min_o

0x4826

HS_PREPARE_MIN

0x00

RW

High byte of the minimum value for hs_prepare, unit ns
Bit[1:0]: hs_prepare_min[9:8]

0x4827

HS_PREPARE_MIN

0x32

RW

Low byte of the minimum value for hs_prepare
hs_prepare_real = hs_prepare_min_o +
Tui*ui_hs_prepare_min_o

0x4827

HS_PREPARE_MIN

0x32

RW

0x4828

HS_EXIT_MIN

0x00

RW

0x4829

HS_EXIT_MIN

0x64

0x482A

UI_HS_ZERO_MIN

0x482B

UI_HS_TRAIL_MIN

0x482C

O

ly

tr

Low byte of the minimum value for hs_prepare
hs_prepare_real = hs_prepare_min_o +
Tui*ui_hs_prepare_min_o

0x05

RW

Minimum UI Value of hs_zero, unit UI

0x04

RW

Minimum UI Value of hs_trail, unit UI

UI_CLK_ZERO_MIN

0x00

RW

Minimum UI Value of clk_zero, unit UI

0x482D

UI_CLK_PREPARE_
MIN

ti

0x00

RW

Minimum UI Value of clk_prepare, unit UI

0x482E

UI_CLK_POST_MIN

0x34

RW

Minimum UI Value of clk_post, unit UI

e

a

l

fo

Low byte of the minimum value for hs_exit
hs_exit_real = hs_exit_min_o + Tui*ui_hs_exit_min_o

n

r

High byte of the minimum value for hs_exit, unit ns
Bit[1:0]: hs_exit_min[9:8]

RW

UI_CLK_TRAIL_MIN

0x00

RW

Minimum UI Value of clk_trail, unit UI

0x4830

UI_LPX_P_MIN

0x00

RW

Minimum UI Value of lpx_p, unit UI

0x4831

UI_HS_PREPARE_
MIN

0x04

RW

Minimum UI Value of hs_prepare, unit UI

0x4832

UI_HS_EXIT_MIN

0x00

RW

Minimum UI Value of hs_exit, unit UI

0x4833

MIPI_REG_MIN

0x00

RW

MIPI register address, lower bound (high byte)
Address range of MIPI RW registers is from
mipi_reg_min to mipi_reg_max

0x4834

MIPI_REG_MIN

0x00

RW

MIPI register address, lower bound (low byte)

0x4835

MIPI_REG_MAX

0xFF

RW

MIPI register address, upper bound (high byte)

0x4836

MIPI_REG_MAX

0xFF

RW

MIPI register address, upper bound (low byte)

0x4837

PCLK_PERIOD

0x15

RW

Period of pclk2x, pclk_div = 1, and 1-bit decimal

d

0x482F

fi
n
o
C

n
ly

address

u

table 6-9

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

6-21

register name

default
value

R/W

description

0x4838

WKUP_DLY

0x02

RW

Wakeup delay for MIPI

0x483A

DIR_DLY

0v08

RW

Change LP direction delay/2 after LP11

0x483C

MIPI CTRL 33

0x4F

RW

Bit[7:4]: t_lpx, unit: sclk cycles
Bit[3:0]: t_clk_pre, unit: sclk cycles

0x483D

MIPI_T_TA_GO

0x10

RW

t_ta_go
Unit: SCLK cycles

0x483E

MIPI_T_TA_SURE

0x06

RW

t_ta_sure
Unit: SCLK cycles

0x483F

MIPI_T_TA_GET

0x14

RW

t_ta_get
Unit: SCLK cycles

SNR_PCLK_DIV

0x00

RW

u

PCLK divider
0:
PCLK/SCLK = 2
and pclk_div = 1
1:
PCLK/SCLK = 1
and pclk_div = 1

MIPI CTRL 60

–

R

0x4861

HD_SK_REG0

–

R

0x4862

HD_SK_REG1

–

0x4863

HD_SK_REG2

–

0x4864

HD_SK_REG3

–

MIPI Read/Write Only
Bit[0]:
mipi_dis_me
0:
Enable MIPI read/write registers
1:
Disable MIPI read/write registers

a

l

0x4860

fo

r

0x4843

tr

Bit[0]:

ly

address

n
ly

MIPI transmitter registers (sheet 8 of 8)

O

table 6-9

ti

MIPI Read/Write, SCCB and MCU Read Only

R

MIPI Read/Write, SCCB and MCU Read Only

R

MIPI Read/Write, SCCB and MCU Read Only
Bit[5]:

d

e

n

R

n

fi

Bit[4]:

MIPI_ST

Bit[3]:
–

R
Bit[2]:

o

0x4865

C

Bit[1]:
Bit[0]:

0x4866

T_GLB_TIM_H

–

R

0x4867

T_GLB_TIM_L

–

R

11.03.2009

MIPI Read/Write, SCCB and MCU Read Only

PRELIMINARY SPECIFICATION

lp_rx_sel_i
1:
MIPI_LP_RX receives LP data
tx_busy_i
1:
MIPI_TX_LP_TX is busy to send LP
data
mipi_lp_p1_i
MIPI low power input for lane 1p
mipi_lp_n1_i
MIPI low power input for lane 1n
mipi_lp_p2_i
MIPI low power input for lane 2p
mipi_lp_n2_i
MIPI low power input for lane 2n

Bit[7]:
VHREF ahead of flag, must delay VHREF
Bit[6:0]: vhref_delay_h
vhref_delay_l

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-1

7 register tables
The following tables provide descriptions of the device control registers contained in the OV5647. For all registers

default
value

R/W

SC_CMMN_PAD_
OEN0

0x00

RW

Bit[7:4]: io_y_oen[11:8]
Bit[3:0]: Not used

SC_CMMN_PAD_
OEN1

0x00

RW

Bit[7:0]: io_y_oen[7:0]
Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x3001

SC_CMMN_PAD_
OEN2

0x00

RW

0x3003~
0x3005

DEBUG MODE

–

–

io_vsync_oen
io_href_oen
io_pclk_oen
io_frex_oen
io_strobe_oen
io_sda_oen
io_gpio1_oen
io_gpio0_oen

r

0x3002

Debug Mode

l
a
DEBUG MODE

0x3008
0x3009

ti

0x3007

0x00

n

SC_CMMN_PLL_
CTR13

RW

–

SC_CMMN_PAD_
OUT0

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: io_y_o[11:8]

SC_CMMN_PAD_
OUT1

0x00

RW

Bit[7:0]: io_y_o[7:0]

SC_CMMN_CHIP_ID

0x56

R

Chip ID high

0x300B

SC_CMMN_CHIP_ID

0x47

R

Chip ID low

0x300C

SC_CMMN_SCCB_ID

0x6C

RW

SCCB ID

11.03.2009

o

fi

–

n

Bit[7:6]: Debug control
Changing these registers is not
recommended
Bit[5:2]: SDIV
Clock divider for 50/60 Hz
detection block
Bit[1:0]: Debug control
Changing these registers is not
recommended

C

d

e

0x3006

0x300A

ly

0x3000

description

u

register name

tr

address

O

system control registers (sheet 1 of 5)

fo

table 7-1

n
ly

enable/disable bits, ENABLE = 1 and DISABLE = 0. The device slave addresses are 0x6C for write and 0x6D for read.

PRELIMINARY SPECIFICATION

Debug Mode

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

R/W

description

RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

Bit[7:4]: Debug control
Changing these registers is not
recommended
Bit[3:0]: io_y_sel[11:8]

SC_CMMN_PAD_
OUT2

0x300E

SC_CMMN_PAD_
SEL0

0x00

RW

0x300F

SC_CMMN_PAD_
SEL1

0x00

RW

SC_CMMN_PAD_
SEL2

0x00

tr
RW

n

SC_CMMN_PAD_PK

e

0x3011

ti

a

l

0x3010

fo

r

0x00

d

0x3012

DEBUG MODE

0x02

RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

io_vsync_sel
io_href_sel
io_pclk_sel
io_frex_sel
io_strobe_sel
io_sda_sel
io_gpio1_sel
io_gpio0_sel

Bit[7]:
Bit[6:5]:
Bit[4:2]:
Bit[1]:

pd_dato_en
iP2X3v[3:2]
Not used
frex_enb
0:
Enable
1:
Disable
Not used

–

Debug Mode

SC_CMMN_A_PWC_P
K_O

0x00

RW

0x3014

SC_CMMN_A_PWC_P
K_O

0x0B

RW

Bit[7]:
Not used
Bit[6:4]: apd[2:0]
Bit[3:0]: dio

fi
0x3013

Bit[7:4]: Debug control
Changing these registers is not
recommended
Bit[3]:
bp_regulator
0:
Enable internal regulator
1:
Disable internal regulator
Bit[2:0]: Debug control
Changing these registers is not
recommended

C

o

n

Bit[7:0]: io_y_sel[7:0]

Bit[0]:
–

io_vsync_o
io_href_o
io_pclk_o
io_frex_o
io_strobe_o
io_sda_o
io_gpio1_o
io_gpio0_o

u

0x300D

n
ly

default
value

register name

O

address

system control registers (sheet 2 of 5)

ly

table 7-1

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-3

address

system control registers (sheet 3 of 5)
default
value

register name

SC_CMMN_MIPI_
PHY

0x00

description

RW

Bit[7:6]:
Bit[5:4]:
Bit[3]:
Bit[2]:

lph
Not used
mipi_pad_enable
pgm_bp_hs_en_lat
Bypass the latch of hs_enable
Bit[1:0]: ictl[1:0]
Bias current adjustment

O

0x3016

R/W

n
ly

table 7-1

SC_CMMN_MIPI_PHY

0x10

RW

0x58

RW

Bit[7:5]: mipi_lane_mode
0:
One lane mode
1:
Two lane mode
Bit[6]:
r_phy_pd_mipi
0:
Not used
1:
Power down PHY HS TX
Bit[5]:
r_phy_pd_lprx
0:
Not used
1:
Power down PHY LP RX
module
Bit[6]:
mipi_en
0:
DVP enable
1:
MIPI enable
Bit[5]:
mipi_susp_reg
MIPI system suspend register
0:
Not used
1:
Suspend
Bit[4]:
lane_dis_op
0:
Use mipi_release1/2 and
lane_disable1/2 to disable
two data lane
1:
Use lane_disable1/2 to
disable two data lane
Bit[3:0]: Not used

SC_CMMN_MIPI_SC_
CTRL

0x10

RW

Bit[7:0]: MIPI ULPS resume mark1 detect
length

e

n

ti

a

l
d

fo

r

0x3017

tr

u

ly

Bit[7:6]: pgm_vcm[1:0]
High speed common mode
voltage
Bit[5:4]: pgm_lptx[1:0]
Driving strength of low speed
transmitter 01
Bit[3]:
ihalf
Bias current reduction
Bit[2]:
pgm_vicd
CD input low voltage
Bit[1]:
pgm_vih
CD input high voltage-dummy
Bit[0]:
pgm_hs_valid
Valid delay-dummy

SC_CMMN_MIPI_SC_
CTRL

C

o

n

fi

0x3018

0x3019

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

system control registers (sheet 4 of 5)

address

register name

default
value

R/W

description

0x301A~
0x3020

DEBUG MODE

–

–

Debug Mode

n
ly

table 7-1

0x23

RW

u

SC_CMMN_MISC_
CTRL

fo

r

tr

0x3021

ly

O

Bit[7:6]: Not used
Bit[5]:
fst_stby_ctr
0:
Software standby enter at
v_blk
1:
Software standby enter at
l_blk
Bit[4]:
mipi_ctr_en
1:
Enable MIPI remote reset
and suspend control SC
0:
Disable the function
Bit[3]:
mipi_rst_sel
0:
MIPI remote reset all
registers
1:
MIPI remote reset all digital
modules
Bit[2]:
gpio_pclk_en
Bit[1]:
frex_ef_sel
Bit[0]:
cen_global_o

SC_CMMN_MIPI_SC_
CTRL

0x302A

SC_CMMN_SUB_ID

–

R

–

R

Bit[7:4]: Process
Bit[3:0]: Version
Bit[7]:
Not used
Bit[6:4]: pll_charge_pump
Bit[3:0]: mipi_bit_mode
0000: 8 bit mode
0001: 10 bit mode
Others: Reserved to future use

e

n

ti

a

l

0x3022

Bit[7:4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

SC_CMMN_PLL_
CTRL0

0x1A

RW

0x3035

DEBUG MODE

–

–

0x3036

SC_CMMN_PLL_
MULTIPLIER

0x69

0x3037

SC_CMMN_PLL_
CTR13

proprietary to OmniVision Technologies

0x03

Debug Mode

RW

Bit[7:0]: PLL_multiplier (4~252)
Can be any integer during 4~127
and only even integer during
128~252

RW

Bit[7:5]: Debug mode
Bit[4]:
pll_root_div
0:
Bypass
1:
/2
Bit[3:0]: pll_prediv
1, 2, 3, 4, 6, 8

C

o

n

fi

d

0x3034

Not used
lptx_ck_opt
pull_down_clk_lane
pull_down_data_lane2
pull_down_data_lane1

PRELIMINARY SPECIFICATION

version 1.0

7-5

system control registers (sheet 5 of 5)
default
value

R/W

SC_CMMN_PLL_
DEBUG_OPT

0x00

RW

Bit[7]:
pll_mult_debug_en
Bit[1:0]: pll_mult1_debug

0x3039

SC_CMMN_PLL_
CTRL_R

0x00

RW

Bit[7]:
pll_bypass
Bit[6:0]: Not used

0x303A

SC_CMMN_PLLS_
CTRL0

0x00

RW

Bit[7]:
plls_bypass
Bit[6:0]: Not used

0x303B

SC_CMMN_PLLS_
CTRL1

0x19

RW

Bit[7:5]: Not used
Bit[4:0]: plls_multiplier

0x303C

SC_CMMN_PLLS_
CTRL2

0x11

RW

Bit[6:4]: plls_cp
Bit[3:0]: plls_sys_div

RW

Bit[7:6]: Not used
Bit[5:4]: plls_pre_div
00: /1
01: /1.5
10: /2
11: /3
Bit[2]:
plls_div_r
0:
/1
1:
/2
Bit[1:0]: plls_seld5
00: /1
01: /1
10: /2
11: /2.5

O
ly

0x3038

description

u

register name

SC_CMMN_PLLS_
CTRL3

0x3040~
0x3044

DEBUG MODE

0x30

n

Debug Mode

default
value

R/W

description

0x6C

RW

SCCB Slave ID

SCCB CTRL

0x0

RW

fi

d

SCCB registers (sheet 1 of 2)
register name

0x3100

SCCB ID

C

o

address

0x3100

–

e

–

n

table 7-2

ti

a

l

0x303D

fo

r

tr

address

n
ly

table 7-1

11.03.2009

PRELIMINARY SPECIFICATION

Bit[7:4]: Not used
Bit[3]:
r_sda_dly_en
Bit[2:0]: r_sda_dly

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-2

default
value

register name

R/W

description

n
ly

address

SCCB registers (sheet 2 of 2)

0x12

RW

0x3102

SCCB FILTER

0x00

RW

O

SCCB OPT

tr

u

ly

0x3101

Bit[7:5]: en_ss_addr_inc
Bit[4]:
en_ss_addr_inc
Bit[3]:
r_sda_byp_sync
0:
Two clock stage SYNC for
sda_i
1:
No SYNC for sda_i
Bit[2]:
r_scl_byp_sync
0:
Two clock stage sync for
scl_i
1:
No sync for scl_i
Bit[1]:
r_msk_glitch
Bit[0]:
r_msk_stop

Not used
ctrl_rst_mipisc
ctrl_rst_srb
ctrl_rst_sccb_s
ctrl_rst_pon_sccb_s
ctrl_rst_clkmod
ctrl_rst_mipi_phy_rst_o
ctrl_pll_rst_o

0x01

RW

Bit[7:5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

Not used
r_srb_clk_syn_en
pwup_dis2
pwup_dis1
pll_clk_sel
pwup_dis0

0x11

RW

Bit[7:6]:
Bit[5]:
Bit[4]:
Bit[3:0]:

Not used
sclk use p_clk_i
Sleep enable
PAD CLK divider for SCCB

RW

Bit[7:4]: Not used
Bit[3:2]: PLL clock divider
00: pll_sclk
01: pll_sclk/2
10: pll_sclk/4
11: pll_sclk
Bit[1]:
rst_arb
0:
Not used
1:
Reset arbiter
Bit[0]:
sclk_arb
0:
Not used
1:
Enable SCLK to arbiter

SCCB SYSREG

fo

r
RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x00

PWUP DIS

e

n

0x3104

ti

a

l

0x3103

PADCLK DIV

C

o

n

fi

d

0x3105

0x3106

SRB CTRL

proprietary to OmniVision Technologies

Bit[7:4]: r_sda_num
Bit[3:0]: r_scl_num

0xF9

PRELIMINARY SPECIFICATION

version 1.0

7-7

group hold control registers
register name

default
value

R/W

description

0x3200

SRM_GRUP_ADR0

0x00

RW

srm_group_adr0

0x3200

GROUP ADR0

0x00

RW

Group0 Start Address in SRAM, actual
address is {0x3200[3:0], 0x0}

0x3201

GROUP ADR1

0x04

RW

Group1 Start Address in SRAM, actual
address is {0x3201[3:0], 0x0}

0x3202

GROUP ADR2

0x08

RW

Group2 Start Address in SRAM, actual
address is {0x3202[3:0], 0x0}

0x3203

GROUP ADR3

0x0B

RW

Group3 Start Address in SRAM, actual
address is {0x3203[3:0], 0x0}

0x3204

GROUP LEN0

–

R

Length of Group0

0x3205

GROUP LEN1

–

R

Length of Group1

0x3206

GROUP LEN2

–

R

Length of Group2

0x3207

GROUP LEN3

–

R

Length of Group3

–

0x3209

DEBUG MODE

n

tr

r

fo

l

GROUP ACCESS

W

ti

a

0x3208

–

Bit[7:4]: Group_ctrl
0000: Enter group write mode
0001: Exit group write mode
1010: Initiate group write
Bit[3:0]: Group ID
0000: Group 0
0001: Group 1
0010: Group 2
0011: Group 3

Not Used

C

o

n

fi

d

e

–

u

ly

O

address

n
ly

table 7-3

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-4

AEC/AGC 1 registers

address

register name

default
value

R/W

0x3500

EXPOSURE

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: Exposure[19:16]

0x3501

EXPOSURE

0x00

RW

Bit[7:0]: Exposure[15:8]

0x3502

EXPOSURE

0x20

RW

Bit[7:0]: Exposure[7:0]

O

n
ly

description

MANUAL CTRL

0x350A

AGC

0x350B

AGC

0x350C

VTS DIFF

0x00

RW

fo

r

tr

0x3503

u

ly

Bit[7:6]: Not used
Bit[5:4]: Gain latch timing delay
x0: Gain has no latch delay
01: Gain delay of 1 frame
11: Gain delay of 2 frames
Bit[2]:
VTS manual
0:
Auto enable
1:
Manual enable
Bit[1]:
AGC manual
0:
Auto enable
1:
Manual enable
Bit[0]:
AEC manual
0:
Auto enable
1:
Manual enable

RW

Bit[7:2]: Not used
Bit[1:0]: Gain[9:8]
AGC real gain output high byte

0x00

RW

Bit[7:0]: Gain[7:0]
AGC real gain output low byte

0x06

RW

Bit[7:0]: vts_diff[15:8]
When in manual mode, set to 0x00

0x18

RW

Bit[7:0]: vts_diff[7:0]
When in manual mode, set to 0x00

e

n

ti

a

l

0x00

d

0x350D

C

o

n

fi

table 7-5

VTS DIFF

system timing registers (sheet 1 of 3)
default
value

R/W

TIMING_X_ADDR_
START

0x00

RW

Bit[7:4]: Debug mode
Bit[3:0]: x_addr_start[11:8]

0x3801

TIMING_X_ADDR_
START

0x0C

RW

Bit[7:0]: x_addr_start[7:0]

0x3802

TIMING_Y_ADDR_
START

0x00

RW

Bit[7:4]: Debug mode
Bit[3:0]: y_addr_start[11:8]

0x3803

TIMING_Y_ADDR_
START

0x04

RW

Bit[7:0]: y_addr_start[7:0]

address

register name

0x3800

proprietary to OmniVision Technologies

description

PRELIMINARY SPECIFICATION

version 1.0

7-9

default
value

R/W

TIMING_X_ADDR_
END

0x0A

RW

Bit[7:4]: Debug mode
Bit[3:0]: x_addr_end[11:8]

0x3805

TIMING_X_ADDR_
END

0x33

RW

Bit[7:0]: x_addr_end[7:0]

0x3806

TIMING_Y_ADDR_
END

0x07

RW

Bit[7:4]: Debug mode
Bit[3:0]: y_addr_end[11:8]

0x3807

TIMING_Y_ADDR_
END

0xA3

RW

Bit[7:0]: y_addr_end[7:0]

0x3808

TIMING_X_OUTPUT_
SIZE

0x0A

RW

Bit[7:4]: Debug mode
Bit[3:0]: DVP output horizontal width[11:8]

0x3809

TIMING_X_OUTPUT_
SIZE

0x20

RW

Bit[7:0]: DVP output horizontal width[7:0]

0x380A

TIMING_Y_OUTPUT_
SIZE

0x07

RW

Bit[7:4]: Debug mode
Bit[3:0]: DVP output vertical height[11:8]

0x380B

TIMING_Y_OUTPUT_
SIZE

0x98

RW

0x380C

TIMING_HTS

0x0A

RW

0x380D

TIMING_HTS

0x8C

a

0x380E

TIMING_VTS

0x07

RW

Bit[7:2]: Debug mode
Bit[1:0]: Total vertical size[9:8]

0x380F

TIMING_VTS

n

RW

Bit[7:0]: Total vertical size[7:0]

0x3810

TIMING_ISP_X_WIN

0x00

RW

Bit[7:4]: Debug mode
Bit[3:0]: ISP horizontal offset[11:8]

0x3811

TIMING_ISP_X_WIN

0x04

RW

Bit[7:0]: ISP horizontal offset[7:0]

0x3812

fi

system timing registers (sheet 2 of 3)

TIMING_ISP_Y_WIN

0x00

RW

Bit[7:4]: Debug mode
Bit[3:0]: ISP vertical offset[11:8]

0x3813

n

table 7-5

TIMING_ISP_Y_WIN

0x02

RW

Bit[7:0]: ISP vertical offset[7:0]

TIMING_X_INC

0x11

RW

Bit[7:4]: h_odd_inc
Horizontal subsample odd increase
number
Bit[3:0]: h_even_inc
Horizontal subsample even
increase number

n
ly
O

ly

u

tr

r

0x3804

description

fo

register name

Bit[7:0]: DVP output vertical height[7:0]

Bit[7:5]: Debug mode
Bit[4:0]: Total horizontal size[12:8]

l

address

11.03.2009

ti

e

0xB0

d

o

C

0x3814

RW

PRELIMINARY SPECIFICATION

Bit[7:0]: Total horizontal size[7:0]

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

system timing registers (sheet 3 of 3)
default
value

register name

R/W

description

n
ly

table 7-5

TIMING_Y_INC

0x11

RW

0x3816

TIMING_HSYNCST

0x00

RW

Bit[7:4]: Debug mode
Bit[3:0]: HSYNC start point[11:8]

0x3817

TIMING_HSYNCST

0x00

RW

0x3818

TIMING_HSYNCW

0x00

RW

0x3819

TIMING_HSYNCW

0x00

RW

RW

For testing only
Not used
For testing only
r_mirror_isp
r_mirror_snr
r_hbin

n

DEBUG MODE

–

–

Debug Mode

C

o

n

fi

d

e

0x3822~
0x3834

ly

u

tr

0x00

Bit[7:5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

l
a

TIMING_TC_REG21

Bit[7:0]: HSYNC window[7:0]

RW

0x40

ti

0x3821

Bit[7:4]: Debug mode
Bit[3:0]: HSYNC window[11:8]

Not used
For testing only
Not used
r_vflip_isp
r_vflip_snr
r_vbin

r

TIMING_TC_REG20

Bit[7:0]: HSYNCstart point[7:0]

Bit[7]:
Bit[6:4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

fo

0x3820

O

0x3815

Bit[7:4]: v_odd_inc
Vertical subsample odd increase
number
Bit[3:0]: v_even_inc
Vertical subsample even increase
number

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-11

default
value

register name

R/W

description
Not used
Less one line mode
Band function
Band low limit mode
start_sel
Night mode
Not used
Freeze

AEC CTRL00

0x78

RW

0x3A01

MIN EXPO

0x01

RW

Bit[7:0]: min expo

0x3A02

MAX EXPO 60

0x3D

RW

Bit[7:0]: max expo[15:8]

0x3A03

MAX EXPO 60

0x80

RW

Bit[7:0]: max expo[7:0]

f50_reverse
0:
Hold 50, 60Hz detect input
1:
Switch 50, 60Hz detect input
Bit[6]:
frame_insert
0:
In night mode, insert frame
disable
1:
In night mode, insert frame
enable
Bit[5]:
step_auto_en
0:
Step manual mode
1:
Step auto_mode
Bit[4:0]: step_auto_ratio
In step auto mode, set the step
ratio setting to adjust speed

AEC CTRL05

0x30

RW

0x18

RW

Bit[7:4]: step_man2
Step manual, slow step
Bit[3:0]: step_man3
Step manual, decrease mode fast
step

B50 STEP

0x01

RW

Bit[7:2]: Not used
Bit[1:0]: b50_step[9:8]

0x3A09

B50 STEP

0x27

RW

Bit[7:0]: b50_step[7:0]

0x3A0A

B60 STEP

0x00

RW

Bit[7:2]: Not used
Bit[1:0]: b60_step[9:8]

0x3A0B

B60 STEP

0xF6

RW

Bit[7:0]: b60_step[7:0]

AEC CTRL06

0x10

fi

d

0x3A06

e

RW

Bit[7:5]: Not used
Bit[4:0]: step_man1
Step manual
Increase mode fast step

C

n

ti

a

l

0x3A05

fo

r

Bit[7]:

tr

u

ly

0x3A00

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

n
ly

address

AEC/AGC 2 registers (sheet 1 of 3)

O

table 7-6

AEC CTRL07

0x3A08

11.03.2009

o

n

0x3A07

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

register name

default
value

R/W

0x3A0C

AEC CTRL0C

0xE4

RW

Bit[7:4]: e1_max
Decimal line high limit zone
Bit[3:0]: e1_min
Decimal line low limit zone

0x3A0D

B60 MAX

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: b60_max

0x3A0E

B50 MAX

0x06

RW

Bit[7:6]: Not used
Bit[5:0]: b50_max

0x3A0F

WPT

0x78

RW

0x3A10

BPT

0x68

RW

0x3A11

HIGH VPT

0xD0

tr

Bit[7:0]: BPT
Stable range low limit (enter)

RW

Bit[7:0]: vpt_high

0x3A12

MANUAL AVG

0x00

RW

Bit[7:0]: avg_man

0x3A13

PRE GAIN

fo

AEC/AGC 2 registers (sheet 2 of 3)

0x40

RW

Bit[7]:
Not used
Bit[6]:
pre-gain enable
Bit[5:0]: pre-gain value

0x3A14

MAX EXPO 50

0x0E

RW

Bit[7:0]: Maximum expo[15:8]

0x3A15

a

table 7-6

MAX EXPO 50

0x40

RW

Bit[7:0]: Maximum expo[7:0]

NIGHT MODE GAIN
BASE

0x01

RW

Bit[7:2]: Not used
Bit[1:0]: gnight_thre
00: 0x00
01: 0x10
10: 0x30
11: 0x70

n
ly

O

ly

u

r

l

ti

n

0x3A18

d

AEC GAIN CEILING

0x00

RW

Bit[7:2]: Not used
Bit[1:0]: gain_ceiling[9:8]

0x3A19

AEC GAIN CEILING

0x7C

RW

Bit[7:0]: gain_ceiling[7:0]

0x3A1A

DIFF MAX

0x04

RW

Bit[7:0]: diff_max

0x3A1B

WPT2

0x78

RW

Bit[7:0]: wpt2
Stable range high limit (go out)

0x3A1C

LED ADD ROW

0x06

RW

Bit[7:0]: led_add_row[15:8]
Exposure values added when
STROBE is ON

0x3A1D

LED ADD ROW

0x18

RW

Bit[7:0]: led_add_row[7:0]
Exposure values added when
STROBE is ON

n
o
C

Bit[7:0]: WPT
Stable range high limit (enter)

fi

e

0x3A17

description

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-13

AEC/AGC 2 registers (sheet 3 of 3)

address

register name

default
value

R/W

0x3A1E

BPT2

0x68

RW

Bit[7:0]: bpt2
Stable range low limit (go out)

0x3A1F

LOW VPT

0x40

RW

Bit[7:0]: vpt_low
Step manual mode, fast zone low
limit

description

0x00

RW

0x3A21

AEC CTRL21

0x70

RW

Bit[7:]: Not used
Bit[6:4]: Frame insert number
Bit[3:0]: Not used

O

AEC CTRL20

default
value

register name

R/W

0x3B01

description

Strobe Control
Bit[7]:
Strobe request ON/OFF
0:
OFF/BLC
1:
ON
Bit[6]:
Strobe pulse reverse
Bit[3:2]: width_in_xenon
00: 1 row period
01: 2 row period
10: 3 row period
11: 4 row period
Bit[1:0]: Strobe mode
00: xenon
01: LED 1
10: LED 2
11: LED 3

0x00

RW

STROBE_FREX_EXP_H2

0x00

RW

Bit[7:0]: frex_exp[23:16]

STROBE_SHUTTER_DLY

0x08

RW

Bit[7:0]: shutter_dly[12:8]

0x3B03

STROBE_SHUTTER_DLY

0x00

RW

Bit[7:0]: shutter_dly[7:0]

0x3B04

STROBE_FREX_EXP_H

0x04

RW

Bit[7:0]: frex_exp[15:8]

0x3B05

STROBE_ FREX_EXP_L

0x00

RW

Bit[7:0]: frex_exp[7:0]

e

STROBE_RSTRB

o

C

0x3B02

n

fi

d

0x3B00

n

ti

a

l

address

STROBE/frame exposure control registers (sheet 1 of 2)

fo

table 7-7

r

tr

u

ly

0x3A20

Bit[7:2]: Not used
Bit[1]:
man_avg_en_i
0:
Disable
1:
Enable
Bit[0]:
Not used

n
ly

table 7-6

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

STROBE/frame exposure control registers (sheet 2 of 2)

0x3B06

STROBE_FREX_CTRL0

0x04

RW

description

n
ly

R/W

Bit[7:6]: frex_pchg_width
Bit[5:4]: frex_strobe_option
Bit[3:0]: frex_strobe_width[3:0]
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1:0]:

frex_sa1
fx1_fm_en
frex_inv
FREX strobe
00: frex_strobe mode0
01: frex_strobe mode1
1x: Rolling strobe

STROBE_FREX_MODE_SEL

0x08

RW

0x3B08

STROBE_FREX_EXP_REQ

0x00

0x3B09

FREX_SHUTTER_DELAY

0x00

RW

Bit[7:3]: Not used
Bit[2:0]: FREX end option

0x3B0A

STROBE_FREX_RST_LENGTH

0x04

RW

Bit[7:3]: Not used
Bit[2:0]: frex_rst_length[2:0]

0x3B0B

STROBE_WIDTH

0x00

RW

Bit[7:0]: frex_strobe_width[19:12]

0x3B0C

STROBE_WIDTH

0x3D

RW

Bit[7:0]: frex_strobe_width[11:4]

RW

Bit[7:1]: Not used
Bit[0]:
frex_exp_req

C

o

n

fi

d

e

n

ti

a

l

fo

ly

0x3B07

u

default
value

tr

register name

r

address

O

table 7-7

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-15

default
value

register name

50/60 HZ DETECTION
CTRL00

0x00

description
Bit[7:6]: Debug control
Changing these registers is not
recommended
Bit[5:3]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings
Bit[2]:
band_def
Band50 default value
0:
60 Hz as default value
1:
50 Hz as default value
Bit[1:0]: 50/60 Hz detection control register
Contact local OmniVision FAE for
the correct settings

RW

50/60 HZ DETECTION
CTRL01

0x00

RW

0x3C02~
0x3C0B

50/60 HZ DETECTION
CTRL02

–

RW

l

a
DEBUG
INFORMATION

R

RW

50/60 Hz Detection Control
Contact local OmniVision FAE for the correct
settings

ti

0x3C0D~
0x3C1E

–

n

50/60 HZ DETECTION
CTRL0C

d

C

o

n

fi

–

50/60 Hz detection Control
Contact local OmniVision FAE for the correct
settings
Bit[7:1]: Debug control
Changing these registers is not
recommended
Bit[0]:
band50
0:
Detection result is 60 Hz
1:
Detection result is 50 Hz

e

0x3C0C

tr

fo

0x3C01

band_man_en
Band detection manual mode
0:
Manual mode disable
1:
Manual mode enable
Bit[6:0]: 50/60 Hz detection control
Contact local OmniVision FAE for
the correct settings

r

Bit[7]:

u

ly

0x3C00

R/W

n
ly

address

50/60 HZ DETECTION registers

O

table 7-8

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

default
value

R/W

description

0x3D00

OTP_DATA_0

0x00

RW

OTP Buffer 0

0x3D01

OTP_DATA_1

0x00

RW

OTP Buffer 1

0x3D02

OTP_DATA_2

0x00

RW

OTP Buffer 2

0x3D03

OTP_DATA_3

0x00

RW

OTP Buffer 3

0x3D04

OTP_DATA_4

0x00

RW

OTP Buffer 4

0x3D05

OTP_DATA_5

0x00

RW

0x3D06

OTP_DATA_6

0x00

RW

ly

0x3D07

OTP_DATA_7

0x00

RW

OTP Buffer 7

0x3D08

OTP_DATA_8

0x00

0x3D09

OTP_DATA_9

0x00

tr

0x3D0A

OTP_DATA_A

0x00

RW

OTP Buffer A

0x3D0B

OTP_DATA_B

0x00

RW

OTP Buffer B

0x3D0C

OTP_DATA_C

0x00

RW

OTP Buffer C

0x3D0D

OTP_DATA_D

0x00

RW

OTP Buffer D

0x3D0E

OTP_DATA_E

0x00

RW

OTP Buffer E

0x3D0F

OTP_DATA_F

0x00

RW

OTP Buffer F

OTP_DATA_16

0x00

RW

OTP Buffer 10

OTP_DATA_17

0x00

RW

OTP Buffer 11

0x3D12

OTP_DATA_18

0x00

RW

OTP Buffer 12

0x3D13

OTP_DATA_19

0x00

RW

OTP Buffer 13

0x3D14

OTP_DATA_20

0x00

RW

OTP Buffer 14

0x3D15

OTP_DATA_21

0x00

RW

OTP Buffer 15

0x3D16

OTP_DATA_22

0x00

RW

OTP Buffer 16

0x3D17

OTP_DATA_23

0x00

RW

OTP Buffer 17

0x3D18

OTP_DATA_24

0x00

RW

OTP Buffer 18

0x3D19

OTP_DATA_25

0x00

RW

OTP Buffer 19

0x3D1A

OTP_DATA_26

0x00

RW

OTP Buffer 1A

0x3D1B

OTP_DATA_27

0x00

RW

OTP Buffer 1B

C

o

n

d

proprietary to OmniVision Technologies

OTP Buffer 5

u

OTP Buffer 6

RW

OTP Buffer 8

RW

OTP Buffer 9

r

l

a

ti

e

0x3D11

n

0x3D10

n
ly

register name

O

address

fo

OTP control registers (sheet 1 of 2)

fi

table 7-9

PRELIMINARY SPECIFICATION

version 1.0

7-17

address

register name

default
value

R/W

description

0x3D1C

OTP_DATA_28

0x00

RW

OTP Buffer 1C

0x3D1D

OTP_DATA_29

0x00

RW

OTP Buffer 1D

0x3D1E

OTP_DATA_30

0x00

RW

OTP Buffer 1E

0x3D1F

OTP_DATA_31

0x00

RW

OTP Buffer 1F

ly

RW

r

tr

0x00

Bit[7]:
OTP_wr_busy
Bit[6:2]: Debug control
Changing these registers is not
recommended
Bit[1]:
OTP_program_speed
0:
Fast
1:
Slow
Bit[0]:
OTP_program_enable
Changing from 0 to 1 initiates OTP
programming

u

OTP_PROGRAM_
CTRL

0x3D20

n
ly

OTP control registers (sheet 2 of 2)

O

table 7-9

0x3D21

OTP_LOAD_CTRL

0x00

RW

fo

Bit[7]:
Bit[1]:

C

o

n

fi

d

e

n

ti

a

l

Bit[0]:

OTP_rd_busy
OTPspeed
0:
Fast
1:
Slow
OTP_load_enable
Changing from 0 to 1 initiates OTP
read

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

n
ly

default
value

register name

R/W

description

BLC Control
(0: disable ISP; 1: enable ISP)
Bit[7]:
blc_median_filter_enable
Bit[6:4]: Not used
Bit[3]:
adc_11bit_mode
Bit[2]:
apply2blackline
Bit[1]:
blackline_averageframe
Bit[0]:
BLC enable

BLC CTRL00

0x89

RW

0x4001

BLC CTRL01

0x00

RW

Bit[7:6]: Not used
Bit[5:0]: start_line

u

0x4000

O

address

BLC registers (sheet 1 of 3)

ly

table 7-10

BLC CTRL02

0x45

RW

r

0x4002

tr

Bit[7]:

0x4004

BLC CTRL04

0x08

RW

blc_redo_en
Write 1 into it will trigger a BLC
redo N frames begin
Bit[6]:
Freeze
Bit[5:0]: manual_frame_num

0x08

RW

Bit[7:0]: blc_line_num

fo

BLC CTRL03

Bit[7]:

Bit[7:6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:

e

n

ti

a

l

0x4003

format_change_en
format_change_i from fmt will be
effect when it is enable
Bit[6]:
blc_auto_en
Bit[5:0]: reset_frame_num

BLC CTRL05

0x18

RW
Bit[1]:

C

o

n

fi

d

0x4005

Bit[0]:
0x4006

BLC CTRL06

proprietary to OmniVision Technologies

0x08

RW

Not used
one_line_mode
remove_none_imagedata
blc_man_1_en
blackline_bggr_man_en
0:
bgbg/grgr is decided by
rblue/hswap
1:
bgbg/grgr fix
bgbg/grgr is decided by
rblue/hswap
blc_always_up_en
0:
Normal freeze
1:
BLC always update
Not used

Bit[7:6]: Not used
Bit[5]:
bl_num_man_en
Bit[4:0]: bl_num_man

PRELIMINARY SPECIFICATION

version 1.0

7-19

default
value

register name

R/W

description
Bit[7:5]: Not used
Bit[4:3]: win_sel
00: Full image
01: Windows do not contain the
first 16 pixels and the last 16
pixels
10: Windows do not contain the
first 1/16 image and the last
1/16 image
11: Windows do not contain the
first 1/8 image and the last
1/8 image
Bit[2:0]: Bypass_mode
000: Bypass data_i after limit bits
001: Bypass data_i[11:0]
011: Bypass data_i[12:1]
100: Bypass debug data bbrr
101: Bypass debug data gggg
1xx: Not used

BLC CTRL07

0x00

RW

BLC CTRL08

0x00

RW

0x4009

BLACK LEVEL

0x10

RW

0x400A~
0x400B

DEBUG MODE

–

0x400C

BLC MAN0

0x400D

BLC MAN0

0x400E
0x400F
0x4010

a
ti

Bit[7:0]: blc_blackleveltarget0

RW

Bit[7:0]: blc_man0[15:8]

0x00

RW

Bit[7:0]: blc_man0[7:0]

BLC MAN1

0x00

RW

Bit[7:0]: blc_man1[15:8]

BLC MAN1

0x00

RW

Bit[7:0]: blc_man1[7:0]

BLC MAN2

0x00

RW

Bit[7:0]: blc_man2[15:8]

BLC MAN2

0x00

RW

Bit[7:0]: blc_man2[7:0]

0x4012

BLC MAN3

0x00

RW

Bit[7:0]: blc_man3[15:8]

0x4013

BLC MAN3

0x00

RW

Bit[7:0]: blc_man3[7:0]

0x402C

BLACK_LEVEL00

–

R

Bit[7:0]: blacklevel00[15:8]

0x402D

BLACK_LEVEL00

–

R

Bit[7:0]: blacklevel00[7:0]

11.03.2009

fi

o

0x4011

d

0x00

n

Debug Mode

C

e

–

BLC Control
(0: disable ISP; 1: enable ISP)
Bit[7:4]: Not used
Bit[3]:
flip_man_en
Bit[2]:
flip_man
Bit[1]:
bl_flip_man_en
Bit[0]:
bl_flip_man

l

0x4008

n

fo

r

tr

u

0x4007

ly

O

address

BLC registers (sheet 2 of 3)

n
ly

table 7-10

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

register name

default
value

R/W

0x402E

BLACK_LEVEL01

–

R

Bit[7:0]: blacklevel01[15:8]

0x402F

BLACK_LEVEL01

–

R

Bit[7:0]: blacklevel01[7:0]

0x4030

BLACK_LEVEL10

–

R

Bit[7:0]: blacklevel10[15:8]

0x4031

BLACK_LEVEL10

–

R

Bit[7:0]: blacklevel10[7:0]

0x4032

BLACK_LEVEL11

–

R

Bit[7:0]: blacklevel11[15:8]

0x4033

BLACK_LEVEL11

–

R

0x4050

BLC MAX

0xFF

RW

0x4051

STABLE RANGE

0x7F

RW

Bit[7:0]: BLC stable range

0x4052

ONE CHANNEL

0x00

RW

0x4060

BLC BR THRE0

0x00

tr

Bit[7:0]: blc_one_channel

RW

Bit[7:0]: blc_br_thr_0

0x4061

BLC BR THRE1

0x00

RW

Bit[7:0]: blc_br_thr_1

0x4062

BLC BR THRE2

0x00

RW

Bit[7:0]: blc_br_thr_2

0x4063

BLC BR THRE3

fo

BLC registers (sheet 3 of 3)

0x00

RW

Bit[7:0]: blc_br_thr_3

0x4064

BLC BR THRE4

0x00

RW

Bit[7:0]: blc_br_thr_4

0x4065

BLC BR THRE5

0x00

RW

Bit[7:0]: blc_br_thr_5

0x4066

BLC G THRE0

0x00

RW

Bit[7:0]: blc_g_thr_0

BLC G THRE1

0x00

RW

Bit[7:0]: blc_g_thr_1

BLC G THRE2

0x00

RW

Bit[7:0]: blc_g_thr_2

0x4069

BLC G THRE3

0x00

RW

Bit[7:0]: blc_g_thr_3

0x406A

BLC G THRE4

0x00

RW

Bit[7:0]: blc_g_thr_4

fi

table 7-10

0x406B

BLC G THRE5

0x00

RW

Bit[7:0]: blc_g_thr_5

0x406C

BLC BRG COMP EN

0x00

RW

Bit[7:0]: blc_brg_comp_en

n
ly

O

Bit[7:0]: blc max black level

u

r

l

a

ti

ly

Bit[7:0]: blacklevel11[7:0]

C

o

n

d

e

0x4068

n

0x4067

description

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-21

default
value

register name

R/W

description

FRAME CTRL0

0x00

RW

0x4201

FRAME ON NUMBER

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: Frame ON number

0x4202

FRAME OFF
NUMBER

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: Frame OFF number

RW

Bit[7:6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

u

0x00

tr

FRAME CTRL1

Not used
data_mask_dis
valid_mask_dis
href_mask_dis
eof_mask_dis
sof_mask_dis
all_mask_dis

0x4701

VSYNC WIDTH

0x4702
0x4703

l

ti

MODE SELECT

R/W

0x04

RW

description
Bit[7:4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

Not used
CCIR V select
CCIR F select
CCIR656 mode enable
HSYNC mode enable

RW

VSYNC
NEG_WIDTH_H

0x01

RW

Bit[7:0]: VSYNC length in terms of pixel
count[15:8]

VSYNC
NEG_WIDTH_L

0x00

RW

Bit[7:0]: VSYNC length in terms of pixel
count[7:0]

VSYNC MODE

0x00

RW

Bit[7:4]: Not used
Bit[3:2]: r_vsyncout_sel
Bit[1]: VSYNC mode3
Bit[0]: VSYNC mode2

0x4705

EOF
VSYNC_DELAY_2

0x00

RW

Bit[7:0]: eof_vsync_delay[23:16]
SOF/EOF negative edge to
VSYNC positive edge delay

0x4706

EOF
VSYNC_DELAY_1

0x00

RW

Bit[7:0]: eof_vsync_delay[15:8]
SOF/EOF negative edge to
VSYNC positive edge dealy

fi

o

C

0x4704

d

0x01

n

0x4700

a

default
value

register name

n

address

DVP registers (sheet 1 of 2)

e

table 7-12

fo

r

0x4203

Not used
fcnt_eof_sel
fcnt_mask_dis
fcnt_reset

ly

0x4200

Bit[7:3]:
Bit[2]:
Bit[1]:
Bit[0]:

n
ly

address

frame control registers

O

table 7-11

11.03.2009

PRELIMINARY SPECIFICATION

VSYNC Length in Terms of Line Count

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

DVP registers (sheet 2 of 2)
register name

0x4707

EOF
VSYNC_DELAY_0

POLARITY CTRL

R/W

0x00

RW

Bit[7:0]: eof_vsync_delay[7:0]
SOF/EOF negative edge to
VSYNC positive edge delay

RW

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

0x01

description

Clock DDR mode enable
Not used
VSYNC gate clock enable
HREF gate clock enable
No frst for FIFO
HREF polarity reverse option
VSYNC polarity reverse option
PCLK polarity reverse option

MOTO ORDER

0x470A

BYP CTRL1

0x470B

BYP CTRL0

0x470C

BYP SEL

0x00

RW

Bit[7]:
Bit[6:4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

FIFO bypass mode
Data bit swap
Bit test mode
10-bit bit test
8-bit bit test
Bit test enable

0x00

RW

Bit[7:0]: bypass_ctrl[15:8]

0x00

RW

Bit[7:0]: bypass_ctrl[7:0]

0x00

RW

Bit[7:5]: Not used
Bit[4]:
href_sel
Bit[3:0]: bypass_sel

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4709

tr

u

ly

0x4708

default
value

n
ly

address

O

table 7-12

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-23

default
value

register name

R/W

description

RW

MIPI Control 00
Bit[7]:
mipi_hs_only
0:
MIPI can support CD and
ESCAPE mode
1:
MIPI always in high speed mode
Bit[6]:
ck_mark1_en
0:
Not used
1:
Enable clock lane mark1 when
resume
Bit[5]:
Clock lane gate enable
0:
Clock lane is free running
1:
Gate clock lane when no packet
to transmit
Bit[4]:
Line sync enable
0:
Do not send line short packet for
each line
1:
Send line short packet for each
line
Bit[3]:
Lane select
0:
Use lane1 as default data lane
1:
Use lane2 as default data lane
Bit[2]:
Idle status
0:
MIPI bus will be LP00 when no
packet to transmit
1:
MIPI bus will be LP11 when no
packet to transmit
Bit[1]:
Clock lane first bits
0:
Output 0x55
1:
Output 0xAA
Bit[0]:
Clock lane disable
0:
Not used
1:
Manually set clock lane to low
power mode

MIPI CTRL 00

0x04

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4800

tr

u

ly

O

address

MIPI top registers (sheet 1 of 11)

n
ly

table 7-13

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-13

default
value

register name

R/W

description

n
ly

address

MIPI top registers (sheet 2 of 11)

tr

u

ly

O

MIPI Control 01
Bit[7]:
Long packet data type manual enable
0:
Use mipi_dt
1:
Use dt_man_o as long packet
data
(see register 0x4814[5:0])
Bit[6]:
Short packet data type manual enable
1:
Use dt_spkt as short packet data
(see register 0x4815[5:0])
Bit[5]:
Short packet WORD COUNTER
manual enable
0:
Use frame counter or line counter
1:
Select spkt_wc_reg_o
(see {0x4812, 0x4813})
Bit[4]:
PH bit order for ECC
0:
{DI[7:0],WC[7:0],WC[15:8]}
1:
{DI[0:7],WC[0:7],WC[8:15]}
Bit[3]:
PH byte order for ECC
0:
{DI,WC_l,WC_h}
1:
{DI,WC_h,WC_l}
Bit[2]:
PH byte order2 for ECC
0:
{DI,WC}
1:
{WC,DI}
Bit[1]:
mark1_en1
0:
Not used
1:
After each rst release, lane 1
should send mark1 for
wkup_dly_o when mipi_sys_susp
=1
Bit[0]:
mark1_en2
0:
Not used
1:
After each reset release, lane 2
should send mark1 for
wkup_dly_o when
mipi_sys_susp=1

0x0F

l
a
ti
n
e
C

o

n

fi

d

RW

r

MIPI CTRL 01

fo

0x4801

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-25

table 7-13

default
value

register name

R/W

description

RW

MIPI Control 02
Bit[7]:
hs_prepare_sel
0:
Auto calculate T_hs_prepare, unit
pclk2x
1:
Use hs_prepare_min_o[7:0]
Bit[6]:
clk_prepare_sel
0:
Auto calculate T_clk_prepare,
unit pclk2x
1:
Use clk_prepare_min_o[7:0]
Bit[5]:
clk_post_sel
0:
Auto calculate T_clk_post, unit
pclk2x
1:
Use clk_post_min_o[7:0]
Bit[4]:
clk_trail_sel
0:
Auto calculate T_clk_trail, unit
pclk2x
1:
Use clk_trail_min_o[7:0]
Bit[3]:
hs_exit_sel
0:
Auto calculate T_hs_exit, unit
pclk2x
1:
Use hs_exit_min_o[7:0]
Bit[2]:
hs_zero_sel
0:
Auto calculate T_hs_zero, unit
pclk2x
1:
Use hs_zero_min_o[7:0]
Bit[1]:
hs_trail_sel
0:
Auto calculate T_hs_trail, unit
pclk2x
1:
Use hs_trail.min_o[7:0]
Bit[0]:
clk_zero_sel
0:
Auto calculate T_clk_zero, unit
pclk2x
1:
Use clk_zero_min_o[7:0]

MIPI CTRL 02

0x00

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4802

tr

u

ly

O

n
ly

address

MIPI top registers (sheet 3 of 11)

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-13

default
value

register name

R/W

description

RW

MIPI Control 03
Bit[7:6]: lp_glitch_nu
0:
Use 2d of lp_in
1:
Mask one SCLK cycle glitch of
lp_in
Bit[5:4]: cd_glitch_nu
0:
Use 2d of lp_cd_in
1:
Mask one SCLK cycle glitch of
lp_cd_in
Bit[3]:
Enable CD plus of data lane1
0:
Disable
1:
Enable
Bit[2]:
Enable CD plus of data lane2
0:
Disable
1:
Enable
Bit[1]:
Enable CD of data_lane1 from PHY
0:
Disable
1:
Enable
Bit[0]:
Enable CD of data_lane2 from PHY
0:
Disable
1:
Enable

MIPI CTRL 03

0x50

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

0x4803

ly

O

n
ly

address

MIPI top registers (sheet 4 of 11)

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-27

table 7-13

default
value

register name

R/W

description

RW

MIPI Control 04
Bit[7]:
wait_pkt_end
0:
Not used
1:
Wait HS packet end when send
UL command
Bit[6]:
tx_lsb_first
0:
lp_tx and lp_rx high bit first
1:
Low power transmit low bit first
Bit[5]:
dir_recover_sel
0:
Auto change to output only when
TurnAround command
1:
Auto change to output when LP11
and GPIO is output
Bit[4]:
mipi_reg_en
0:
Disable MIPI_REG_P to access
registers, LP data will write to
VFIFO
1:
Enable MIPI_REG_P to access
registers
Bit[3]:
Address read/write register will auto
add 1
0:
Disable
1:
Enable
Bit[2]:
LP TX lane select
0:
Select lane1 to transmit LP data
1:
Select lane2 to transmit LP data
Bit[1]:
wr_first_byte
0:
Not used
1:
lp_rx will write first byte
(command byte) to RAM
Bit[0]:
rd_ta_en
0:
Not used
1:
Send TurnAround command after
sending register read data

tr

u

ly

O

n
ly

address

MIPI top registers (sheet 5 of 11)

MIPI CTRL 04

0x8D

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4804

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-13

default
value

register name

R/W

description

n
ly

address

MIPI top registers (sheet 6 of 11)

MIPI CTRL 05

0x10

RW

C

o

n

fi

d

e

n

ti

a

l

fo

r

0x4805

tr

u

ly

O

MIPI Control 05
Bit[7]:
MIPI lane1 disable
0:
Not used
1:
Disable MIPI data lane1, lane1
will be LP00
Bit[6]:
MIPI lane2 disable
0:
Not used
1:
Disable MIPI data lane2, lane2
will be LP00
Bit[5]:
lpx_p_sel
0:
Automatically calculate t_lpx_o in
pclkex domain, unit pclk2x
1:
Use lp_p_min[7:0]
Bit[4]:
lp_rx_intr_sel
0:
Send lp_rx_intr_o at the first byte
1:
Send lp_rx_intr_o at the end of
receiving
Bit[3]:
cd_tst_sel
0:
Not used
1:
Select PHY test pins
Bit[2]:
mipi_reg_mask
0:
Not used
1:
Disable MIPI access SRB
Bit[1]:
clip enable
Bit[0]:
hd_sk_en
0:
Disable MIPI and MCU
handshake registers
1:
Disable MIPI and MCU
handshake registers

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-29

Bit[7]:
Bit[6]:
Bit[5]:

Bit[4]:

0x4806

MIPI REG RW CTRL

0x28

Bit[3]:
Bit[2]:

RW

Test mode
mipi_test
mipi_lp_op
0:
Use new option to reduce
mipi_lptx_p
1:
Not used
two_lane_man_en
0:
Not used
1:
Use two_lane_man to manually
control two_lane_mode
two_lane_man
rst_rtn_en
0:
Not used
1:
Change to input to allow host RW
register after reset
frame_end_en
0:
Not used
1:
After frame end packet, change to
input to allow host RW register
line_end_en
0:
Not used
1:
After line end packet, change to
input to allow host RW register

fo

r

Bit[1]:

n
ly

description

O

R/W

ly

default
value

register name

u

address

MIPI top registers (sheet 7 of 11)

tr

table 7-13

0x480A

MIPI BIT ORDER

0x00

0x4810

MIPI MAX FRAME
COUNT

0xFF

RW

High Byte of Max Frame Count of Frame Sync Short
Packet

0x4811

MIPI MAX FRAME
COUNT

0xFF

RW

Low Byte of Max Frame Count of Frame Sync Short
Packet

0x4814

MIPI CTRL14

0x2A

RW

MIPI Control 14
Bit[7:6]: Virtual channel of MIPI
Bit[5:0]: Data type in manual mode

n

fi

d

n

ti

RW

Bit[7:3]: Not used
Bit[2]:
Bit order reverse
Bit[1:0]: Bit position adjustment
01: {D[7:0],D[9:8]}
10: {D[1:0],D[9:2]}

e

a

l

Bit[0]:

o

C

0x4815

Bit[7]:
Bit[6]:

MIPI_DT_SPKT

0x00

RW

0x4818

HS_ZERO_MIN

0x00

RW

11.03.2009

PRELIMINARY SPECIFICATION

Not used
pclk_div
0:
Use rising edge of mipi_pclk_o to
generate MIPI bus to PHY
1:
Use falling edge of mipi_pclk_o to
generate MIPI bus to PHY
Bit[5:0]: Manual data type for short packet
High byte of the minimum value for hs_zero
Unit ns

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-13

MIPI top registers (sheet 8 of 11)
register name

default
value

R/W

description

0x4819

HS_ZERO_MIN

0x96

RW

Low byte of the minimum value for hs_zero, unit ns
hs_zero_real = hs_zero_min_o +
Tui*ui_hs_zero_min_o

0x481A

HS_TRAIL_MIN

0x00

RW

High byte of the minimum value for hs_trail, unit ns

0x481B

HS_TRAIL_MIN

0x3C

RW

Low byte of the minimum value for hs_trail,
hs_trail_real = hs_trail_min_o +
Tui*ui_hs_trail_min_o

0x481C

CLK_ZERO_MIN

0x01

RW

High byte of the minimum value for clk_zero
Unit ns

0x481D

CLK_ZERO_MIN

0x86

RW

0x481E

CLK_PREPARE_
MIN

0x00

0x481F

CLK_PREPARE_
MIN

0x4820

CLK_POST_MIN

u

ly

O

n
ly

address

High byte of the minimum value for clk_prepare,
Unit ns
Bit[7:2]: Not used
Bit[1:0]: clk_prepare_min[9:8]

RW

Low byte of the minimum value for clk_prepare
clk_prepare_real = clk_prepare_min_o +
Tui*ui_clk_prepare_min_o

0x00

RW

High byte of the minimum value for clk_post
Unit ns
Bit[7:2]: Not used
Bit[1:0]: clk_post_min[9:8]

0x56

RW

Low byte of the minimum value for clk_post
clk_post_real = clk_post_min_o +
Tui*ui_clk_post_min_o

CLK_TRAIL_MIN

0x00

RW

High byte of the minimum value for clk_trail, unit ns
Bit[7:2]: Not used
Bit[1:0]: clk_trail_min[9:8]

0x4823

CLK_TRAIL_MIN

0x3C

RW

Low byte of the minimum value for clk_trail
clk_trail_real = clk_trail_min_o +
Tui*ui_clk_trail_min_o

0x4824

LPX_P_MIN

0x00

RW

High byte of the minimum value for lpx_p, unit ns
Bit[7:2]: Not used
Bit[1:0]: lpx_p_min[9:8]

0x4825

LPX_P_MIN

0x32

RW

Low byte of the minimum value for lpx_p
lpx_p_real = lpx_p_min_o + Tui*ui_lpx_p_min_o

RW

High byte of the minimum value for hs_prepare,
unit ns
Bit[7:2]: Not used
Bit[1:0]: hs_prepare_min[9:8]

fo

r

RW

d

tr

Low byte of the minimum value for clk_zero,
clk_zero_real = clk_zero_min_o +
Tui*ui_clk_zero_min_o

CLK_POST_MIN

e

0x4821

n

ti

a

l

0x3C

C

o

n

fi

0x4822

0x4826

HS_PREPARE_MIN

proprietary to OmniVision Technologies

0x00

PRELIMINARY SPECIFICATION

version 1.0

7-31

MIPI top registers (sheet 9 of 11)
register name

default
value

R/W

description

0x4827

HS_PREPARE_MIN

0x32

RW

Low byte of the minimum value for hs_prepare
hs_prepare_real = hs_prepare_min_o +
Tui*ui_hs_prepare_min_o

0x4828

HS_EXIT_MIN

0x00

RW

High byte of the minimum value for hs_exit, unit ns
Bit[7:2]: Not used
Bit[1:0]: hs_exit_min[9:8]

0x4829

HS_EXIT_MIN

0x64

RW

Low byte of the minimum value for hs_exit
hs_exit_real = hs_exit_min_o +
Tui*ui_hs_exit_min_o

0x482A

UI_HS_ZERO_MIN

0x05

RW

Minimum UI Value of hs_zero, unit UI

0x482B

UI_HS_TRAIL_MIN

0x04

RW

Minimum UI Value of hs_trail, unit UI

0x482C

UI_CLK_ZERO_
MIN

0x00

RW

Minimum UI Value of clk_zero, unit UI

0x482D

UI_CLK_PREPARE
_MIN

0x00

RW

Minimum UI Value of clk_prepare, unit UI

0x482E

UI_CLK_POST_
MIN

0x34

RW

Minimum UI Value of clk_post, unit UI

0x482F

UI_CLK_TRAIL_
MIN

0x00

RW

Minimum UI Value of clk_trail, unit UI

0x4830

UI_LPX_P_MIN

0x00

0x4831

UI_HS_PREPARE_
MIN

0x04

0x4832

UI_HS_EXIT_MIN

0x4833

MIPI_REG_MIN

0x4834
0x4835
0x4836

O

ly

u

tr

r

fo

l

Minimum UI Value of lpx_p, unit UI

0x00

RW

Minimum UI Value of hs_exit, unit UI

0x00

RW

MIPI register address, lower bound (high byte)
Address range of MIPI RW registers is from
mipi_reg_min to mipi_reg_max

MIPI_REG_MIN

0x00

RW

MIPI Register Address, lower bound (low byte)

MIPI_REG_MAX

0xFF

RW

MIPI Register Address, upper bound (high byte)

MIPI_REG_MAX

0xFF

RW

MIPI Register Address, upper bound (low byte)

PCLK_PERIOD

0x15

RW

Period of pclk2x, pclk_div = 1, and 1-bit decimal

0x4838

WKUP_DLY

0x02

RW

Wakeup Delay for MIPI

0x483A

DIR_DLY

0v08

RW

Change LP Direction Delay/2 after LP11

e

d

fi

o

C

11.03.2009

n

Minimum UI Value of hs_prepare, unit UI

n

ti

RW

RW

0x4837

n
ly

address

a

table 7-13

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

default
value

register name

R/W

description
Bit[7]:

Bit[6]:

0x33

RW

Bit[5]:
Bit[4]:
Bit[3]:

tr
fo

r

Bit[2]:

MIPI CTRL 33

0x483D

MIPI_T_TA_GO

0x483E

MIPI_T_TA_SURE

a

ti

n

MIPI_T_TA_GET

RW

d

SNR_PCLK_DIV

t_ta_go
Unit: SCLK cycles

0x06

RW

t_ta_sure
Unit: SCLK cycles

0x14

RW

t_ta_get
Unit: SCLK cycles

0x00

RW

n
o
C

Bit[7:4]: t_lpx, unit: sclk cycles
Bit[3:0]: t_clk_pre, unit: sclk cycles

RW

fi

0x4843

Bit[1]:
Bit[0]:

0x10

e

0x483F

0x4F

l

0x483C

lp_sel1
0:
Generate mipi_lp_dir1_o
automatically
1:
Use lp_dir_man1 as
mipi_lp_dir1_o
lp_dir_man1
0:
Input
1:
Output
lp_p1_o
lp_n1_o
lp_sel2
0:
Generate mipi_lp_dir2_o
automatically
1:
Use lp_dir_man2 as
mipi_lp_dir2_o
lp_dir_man2
0:
Input
1:
Output
lp_p2_o
lp_n2_o

ly

MIPI_LP_GPIO

u

0x483B

n
ly

address

MIPI top registers (sheet 10 of 11)

O

table 7-13

Bit[7:1]: Not used
Bit[0]:
PCLK divider
0:
PCLK/SCLK = 2
and pclk_div = 1
1:
PCLK/SCLK = 1
and pclk_div = 1

0x4860

MIPI CTRL 60

–

R

MIPI Read/Write only
Bit[7:1]: Not used
Bit[0]:
mipi_dis_me
0:
Enable MIPI read/write registers
1:
Disable MIPI read/write registers

0x4861

HD_SK_REG0

–

R

MIPI Read/Write, SCCB and MCU Read Only

0x4862

HD_SK_REG1

–

R

MIPI Read/Write, SCCB and MCU Read Only

0x4863

HD_SK_REG2

–

R

MIPI Read/Write, SCCB and MCU Read Only

0x4864

HD_SK_REG3

–

R

MIPI Read/Write, SCCB and MCU Read Only

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-33

address

MIPI top registers (sheet 11 of 11)
default
value

register name

R/W

description

n
ly

table 7-13

MIPI_ST

–

R

0x4866

T_GLB_TIM_H

–

R

Bit[7]:
VHREF ahead of flag, must delay vhref
Bit[6:0]: vhref_delay_h

0x4867

T_GLB_TIM_L

–

R

fo

l

vhref_delay_l

a
ti

default
value

register name

R/W

description

0x00

RW

Bit[7:3]:
Bit[2]:
Bit[1]:
Bit[0]:

n

address

ISPFC registers

e

table 7-14

r

tr

u

ly

O

0x4865

Bit[7:6]: Not used
Bit[5]:
lp_rx_sel_i
0:
Not used
1:
MIPI_LP_RX receives LP data
Bit[4]:
tx_busy_i
0:
Not used
1:
MIPI_TX_LP_TX is busy to send
LP data
Bit[3]:
mipi_lp_p1_i
MIPI low power input for lane 1p
Bit[2]:
mipi_lp_n1_i
MIPI low power input for lane 1n
Bit[1]:
mipi_lp_p2_i
MIPI low power input for lane 2p
Bit[0]:
mipi_lp_n2_i
MIPI low power input for lane 2n

Not used
fcnt_eof_sel
fcnt_mask_dis
fcnt_reset

FRAME CTRL0

0x4901

FRAME ON NUMBER

0x00

RW

Bit[7:3]: Not used
Bit[3:0]: Frame ON number

0x4902

FRAME OFF
NUMBER

0x00

RW

Bit[7:3]: Not used
Bit[3:0]: Frame OFF number

RW

Bit[7:6]:
Bit[5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

C

o

n

fi

d

0x4900

0x4903

11.03.2009

FRAME CTRL1

0x00

PRELIMINARY SPECIFICATION

Not used
data_mask_dis
valid_mask_dis
href_mask_dis
eof_mask_dis
sof_mask_dis
all_mask_dis

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

ISP TOP control registers (sheet 1 of 6)
default
value

register name

R/W

description

n
ly

table 7-15

ISP CTRL00

0xFF

RW

0x01

RW

tr

ISP CTRL01

ISP CTRL02

0x41

RW

l

0x5002

fo

r

0x5001

u

ly

0x5000

lenc_en
0:
Disable
1:
Enable
Bit[6:3]: Not used
Bit[2]:
bc_en
0:
Disable
1:
Enable
Bit[1]:
wc_en
0:
Disable
1:
Enable
Bit[0]:
Not used

O

Bit[7]:

a
ti
0x0A

RW

RW

Bit[7:4]: Not used
Bit[3]:
size_man_en
0:
Disable
1:
Enable
Bit[2:0]: Not used

n
o
C

0x5004

ISP CTRL04

proprietary to OmniVision Technologies

0x00

Bit[1]:

Not used
win_en
0:
Disable
1:
Enable
otp_en
0:
Disable
1:
Enable
awb_gain_en
0:
Disable
1:
Enable

Bit[7:4]: Not used
Bit[3]:
buf_en
0:
Disable
1:
Enable
Bit[2]:
bin_man_set
0:
Manual value as 0
1:
Manual value as 1
Bit[1]:
bin_auto_en
0:
Disable
1:
Enable
Bit[0]:
Not used

n
e

ISP CTRL03

Bit[7]:
Bit[6]:

Bit[0]:

fi

d

0x5003

Bit[7:1]: Not used
Bit[0]:
awb_en
0:
Disable
1:
Enable

PRELIMINARY SPECIFICATION

version 1.0

7-35

address

ISP TOP control registers (sheet 2 of 6)
default
value

register name

R/W

description
sof_man
0:
SOF from BLC module
1:
SOF from pre_isp module
Bit[6]:
awb_bias_man_en
0:
AWB bias manual disable
1:
AWB bias manual enable
Bit[5]:
awb_bias_on
0:
Disable AWB bias
1:
Enable AWB bias
Bit[4:3]: Not used
Bit[2]:
lenc_bias_on
0:
Disable LENC bias
1:
Enable LENC bias
Bit[1]:
Disable LENC bias
s2p_sw_en_o
Bit[0]:
Disable LENC bias avg_en
0:
Disable
1:
Enable

ISP CTRL05

0x31

RW

r

tr

u

0x5005

ly

O

Bit[7]:

n
ly

table 7-15

fo

ISP Control
(0: disable ISP; 1: enable ISP)
Bit[7]:
x_odd_inc_man_en
Bit[6]:
y_even_inc_man_en
Bit[5]:
x_odd_inc_man_en
Bit[4]:
y_even_inc_man_en
Bit[3]:
x_offset_man_en
Bit[2]:
y_offset_man_en
Bit[1]:
x_skip_man_en
Bit[0]:
y_skip_man_en

0x00

RW

l

ISP CTRL06

RW

X OFFSET MAN

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: x_offset_man[11:8]

0x5009

X OFFSET MAN

0x00

RW

Bit[7:0]: x_offset_man[7:0]

0x500A

Y OFFSET MAN

0x00

RW

Bit[7:3]: Not used
Bit[2:0]: y_offset_man[10:8]

0x500B

Y OFFSET MAN

0x00

RW

Bit[7:0]: y_offset_man[7:0]

ISP CTRL07

0x5008

11.03.2009

o

n

fi

0x5007

d

e
0x00

ISP Control
(0: disable ISP; 1: enable ISP)
Bit[7]:
bin_mode_man_en
Bit[6]:
bin_mode_man
Bit[5]:
win_x_off_man_en
Bit[4]:
win_y_off_man_en
Bit[3]:
win_x_out_man_en
Bit[2]:
win_y_out_man_en
Bit[1]:
isp_input_h_man_en
Bit[0]:
isp_input_v_man_en

C

n

ti

a

0x5006

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

register name

default
value

R/W

0x500C

WIN X OFFSET MAN

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: win_x_offset_man[11:8]

0x500D

WIN X OFFSET MAN

0x00

RW

Bit[7:0]: win_x_offset_man[7:0]

0x500E

WIN Y OFFSET MAN

0x00

RW

Bit[7:3]: Not used
Bit[2:0]: win_y_offset_man[10:8]

0x500F

WIN Y OFFSET MAN

0x00

RW

Bit[7:0]: win_y_offset_man[7:0]

0x5010

WIN X OUT MAN

0x00

RW

0x5011

WIN X OUT MAN

0x00

RW

0x5012

WIN Y OUT MAN

0x00

0x5013

WIN Y OUT MAN

0x00

0x5014

ISP INPUT X MAN

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: isp_x_input_man[11:8]

0x5015

ISP INPUT X MAN

0x00

RW

Bit[7:0]: isp_x_input_man[7:0]

0x5016

ISP INPUT Y MAN

0x00

RW

Bit[7:3]: Not used
Bit[2:0]: isp_y_input_man[10:8]

0x5017

ISP INPUT Y MAN

0x00

RW

Bit[7:0]: isp_y_input_man[7:0]

0x5018

ti

ISP TOP control registers (sheet 3 of 6)

ISP CTRL18

0x00

RW

Bit[7:4]: x_odd_inc_man
Bit[3:0]: x_even_inc_man

ISP CTRL19

0x00

RW

Bit[7:4]: y_odd_inc_man
Bit[3:0]: y_even_inc_man

d

table 7-15

ISP CTRL1A

0x00

RW

Bit[7:4]: Not used
Bit[3:2]: x_skip_man
Bit[1:0]: y_skip_man

0x501B~
0x501C

DEBUG MODE

–

–

0x501D

ISP CTRL1D

0x00

RW

n
ly

O

ly

u

Bit[7:0]: win_x_out_man[7:0]

RW

Bit[7:0]: win_y_out_man[7:0]

tr

Bit[7:3]: Not used
Bit[2:0]: win_y_out_man[10:8]

Debug Mode
Bit[7]:
Not used
Bit[6:4]: win_y_offset_adjust
Bit[3:0]: Not used

C

o

n

fi

0x501A

Bit[7:4]: Not used
Bit[3:0]: win_x_out_man[11:8]

RW

r

fo

l

a

n

e

0x5019

description

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-37

ISP CTRL1F

0x03

R/W

description

RW

Bit[7:6]: Not used
Bit[5]:
enable_opt
1:
Enable latched by VSYNC
0:
Not latched by VSYNC
Bit[4]:
cal_sel
0:
DPC cal_start using SOF
1:
DPC cal_start using VSYNC
Bit[3]:
Not used
Bit[2:0]: fmt_sel
0:
ISP output data
1:
ISP input data bypass
Bit[7:4]: Not used
Bit[1:0]: avg_sel
00: Inputs of AVG module are
from LENC output
01: Inputs of AVG module are
from AWB gain output
10: Inputs of AVG module are
from DPC output
11: Inputs of AVG module are
from binning output

ISP CTRL25

0x00

RW

0x5026~
0x503C

DEBUG MODE

–

–

fo

r

0x5025

tr

u

ly

0x501F

default
value

register name

n
ly

address

ISP TOP control registers (sheet 4 of 6)

O

table 7-15

l

a
ti
n
e
d

ISP CTRL3D

0x00

RW

C

o

n

fi

0x503D

11.03.2009

Debug Mode

PRELIMINARY SPECIFICATION

Bit[7]:

test_pattern_en
0:
Disable
1:
Enable
Bit[6]:
rolling_bar
0:
Disable rolling bar
1:
Enable rolling bar
Bit[5]:
transparent_mode
0:
Disable
1:
Enable
Bit[4]:
squ_bw_mode
0:
Output square is color square
1:
Output square is black-white
square
Bit[3:2]: bar_style
When set to a different value, a
different type color bar will be output
Bit[1:0]: test_pattern_type
00: Color bar
01: Square
10: Random data
11: Input data

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

address

ISP TOP control registers (sheet 5 of 6)
default
value

register name

R/W

description

n
ly

table 7-15

ISP CTRL3E

0x00

RW

u

ly

0x503E

Not used
win_cut_en
isp_test
0:
Two lowest bits are 1
1:
Two lowest bits are 0
Bit[4]:
Two lowest bits are rnd_same
0:
Frame-changing random data
pattern
1:
Frame-fixed random data
pattern
Bit[3:0]: rnd_seed
Initial seed for random data pattern

O

Bit[7]:
Bit[6]:
Bit[5]:

tr

ISP Control
(0: disable ISP; 1: enable ISP)
Bit[7:6]: Not used
Bit[5]:
post_binning h_enable
Bit[4]:
post_binning v_enable
Bit[3]:
flip_man_en
Bit[2]:
flip_man
Bit[1]:
mirror_man_en
Bit[0]:
Mirror

ISP CTRL4B

0x504C

ISP CTRL4C

0x30

RW

fo

r

0x504B

RW

l

0x04

RW

ti

a
0x00

ISP Control
(0: Disable ISP; 1: Enable ISP)
Bit[7:4]: Not used
Bit[3]:
lenc_xoff_man_en
Bit[2]:
lenc_yoff_man_en
Bit[1]:
lenc_gain_man_en
Bit[0]:
lenc_bias_man_en

ISP CTRL4D

e

n

0x504D

ISP CTRL4E

0x04

RW

Bit[7:4]: Not used
Bit[3:0]: lenc_xoff_man[11:8]

0x504F

ISP CTRL4F

0x00

RW

Bit[7:0]: lenc_xoff_man[7:0]

0x5052

ISP CTRL52

0x0A

RW

Bit[7:4]: Not used
Bit[3:0]: lenc_yoff_man[11:8]

0x5053

ISP CTRL53

0x00

RW

Bit[7:0]: lenc_yoff_man[7:0]

0x5054

ISP CTRL54

0x00

RW

Bit[7:2]: Not used
Bit[1:0]: lenc_gain_man[9:8]

0x5055

ISP CTRL55

0x00

RW

Bit[7:0]: lenc_gain_man[7:0]

RW

Bit[7:6]:
Bit[5]:
Bit[4]:
Bit[3:2]:
Bit[1:0]:

d

0x504E

fi
n
o
C

Bit[7:0]: bias_man

0x5056

ISP CTRL56

proprietary to OmniVision Technologies

0x00

Not used
lenc_skipx_man
lenc_skipy_man
lenc_skipy_man
lenc_skipx_man

PRELIMINARY SPECIFICATION

version 1.0

7-39

default
value

register name

R/W

description

ISP CTRL57

0x00

RW

0x5058

ISP CTRL58

0xAA

RW

Bit[7:4]: sram_rm_dpc1
Bit[3:0]: sram_rm_dpc2

0x5059

ISP CTRL59

0xAA

RW

Bit[7:4]: sram_rm_dpc3
Bit[3:0]: sram_rm_dpc4

u

default
value

register name

R/W

description

r

address

AWB registers (sheet 1 of 3)

tr

table 7-16

sram_test_dpc1
sram_test_dpc2
sram_test_dpc3
sram_test_dpc4
Not used

ly

0x5057

Bit[7]:
Bit[6]:
Bit[5]:
Bit[4]:
Bit[3:0]:

n
ly

address

ISP TOP control registers (sheet 6 of 6)

O

table 7-15

ti

a

l

fo

Bit[7]:
Bit[6]:

AWB CTRL

e

n

Bit[4]:

0x00

RW

Bit[3]:

Bit[2]:

C

o

n

fi

d

0x5180

Bit[5]:

11.03.2009

Bit[1]:
Bit[0]:

PRELIMINARY SPECIFICATION

hsize_man_en
fast_awb
0:
Disable fast AWB
calculation function
1:
Enable fast AWB
calculation function
freeze_gain_en
When it is enabled, the output
AWB gains are input AWB
gains
freeze_sum_en
When it is set, the sums and
averages value are the same
as previous frame
gain_man_en
0:
Output calculated gains
1:
Output manual gains set
by registers
start_sel
0:
Select the last href
falling edge of before
gain input as cal start
signal
1:
Select the last href
falling edge of after gain
input as cal start signal
after_gma
Not used

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

default
value

R/W

AWB DELTA

0x20

RW

0x5182

STABLE RANGE

0x04

RW

Bit[7:0]: stable_range

0x5183

STABLE RANGEW

0x08

RW

Bit[7:0]: stable_rangew
Wide stable range

0x5184

HSIZE_MAN

0x01

RW

0x5185

HSIZE_MAN

0xE0

0x5186

MANUAL RED GAIN MSB

0x04

RW

Bit[7:4]: Not used
Bit[3:0]: red_gain_man[11:8]

0x5187

MANUAL RED GAIN LSB

0x00

RW

Bit[7:0]: red_gain_man[7:0]

0x5188

MANUAL GREEN GAIN MSB

0x04

RW

Bit[7:4]: Not used
Bit[3:0]: grn_gain_man[11:8]

0x5189

MANUAL GREEN GAIN LSB

0x00

RW

Bit[7:0]: grn_gain_man[7:0]

0x518A

MANUAL BLUE GAIN MSB

0x04

RW

Bit[7:4]: Not used
Bit[3:0]: blu_gain_man[11:8]

0x518B

MANUAL BLUE GAIN LSB

0x00

RW

Bit[7:0]: blu_gain_man[7:0]

RW

Bit[7:4]: red_gain_up_limit
Bit[3:0]: red_gain_dn_limit
They are only the highest 4
bits of limitation.
Maximum red gain is
{red_gan_up_limit,FF}
Minimum red gain is
{red_gain_dn_limit,00}

RW

Bit[7:4]: green_gain_up_limit
Bit[3:0]: green_gain_dn_limit
They are only the highest 4
bits of limitation.
Maximum green gain is
{green_gan_up_limit,FF}
Minimum green gain is
{green_gain_dn_limit,00}

ly

tr

fo

l

a

e

n

ti

RW

0xF0

n

fi

d

RED GAIN LIMIT

GREEN GAIN LIMIT

C

0x518D

proprietary to OmniVision Technologies

0xF0

O

0x5181

Bit[7]:
delta_opt
Bit[6]:
base_man_en
Bit[5:0]: awb_delta
Delta value to increase or
decrease the gains

0x518C

o

description

u

register name

r

address

AWB registers (sheet 2 of 3)

n
ly

table 7-16

Bit[7:4]: Not used
Bit[3:0]: hsize_man[11:8]

Bit[7:0]: hsize_man[7:0]

PRELIMINARY SPECIFICATION

version 1.0

7-41

address

AWB registers (sheet 3 of 3)
default
value

register name

R/W

description

BLUE GAIN LIMIT

0xF0

RW

0x518F

FRAME CNT

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: awb_frame_cnt

0x51DF

BASE MAN

0x10

RW

Bit[7:0]: base_man

u

tr

R/W

0x5680

X START

0x00

RW

0x5681

X START

0x00

0x5682

Y START

0x5683

Y START

0x5684

X WINDOW

r

default
value

description

fo

register name

Bit[7:5]: Not used
Bit[4:0]: x_start[11:8]
Horizontal start position for average
window high byte

l

address

a

average registers (sheet 1 of 2)

n

table 7-17

ly

O

0x518E

Bit[7:4]: blue_gain_up_limit
Bit[3:0]: blue_gain_dn_limit
They are only the highest 4
bits of limitation.
Maximum blue gain is
{blue_gan_up_limit,FF}
Minimum blue gain is
{blue_gain_dn_limit,00}

n
ly

table 7-16

RW

Bit[7:4]: Not used
Bit[3:0]: y_start[10:8]
Vertical start position for average
window low byte

0x00

RW

Bit[7:0]: y_start[7:0]
Vertical start position for average
window low byte

n

Bit[7:0]: x_start[7:0]
Horizontal start position for average
window low byte

0x0A

RW

Bit[7:5]: Not used
Bit[4:0]: Window X in manual average
window mode high byte

X WINDOW

0x20

RW

Bit[7:0]: Window X in manual average
window mode low byte

C

ti

RW

0x5686

Y WINDOW

0x07

RW

Bit[7:4]: Not used
Bit[3:0]: Window Y in manual average
window mode high byte

0x5687

Y WINDOW

0x98

RW

Bit[7:0]: Window Y low byte in manual
average window mode

0x5688

WEIGHT00

0x11

RW

Bit[7:4]: window1_weight
Bit[3:0]: window0_weight

11.03.2009

fi

o

0x5685

d

e

0x00

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-17

average registers (sheet 2 of 2)

address

register name

default
value

R/W

0x5689

WEIGHT01

0x11

RW

Bit[7:4]: window3_weight
Bit[3:0]: window2_weight

0x568A

WEIGHT02

0x11

RW

Bit[7:4]: window5_weight
Bit[3:0]: window4_weight

0x568B

WEIGHT03

0x11

RW

Bit[7:4]: window7_weight
Bit[3:0]: window6_weight

0x568C

WEIGHT04

0x11

RW

Bit[7:4]: window9_weight
Bit[3:0]: window8_weight

0x568D

WEIGHT05

0x11

RW

0x568E

WEIGHT06

0x11

RW

0x568F

WEIGHT07

0x11

RW

0x5691

AVG WEIGHT SUM

0x5692

DEBUG MODE

0x5693

AVG READOUT

n
ly

O

ly

tr

u

Bit[7:4]: window13_weight
Bit[3:0]: window12_weight

R

Bit[7:4]: window15_weight
Bit[3:0]: window14_weight
Bit[7:2]: Not used
Bit[1]:
avg_opt
Bit[0]:
avg_man
0:
Auto average window
1:
Manual average window

–

R

avg_wt_sum_o

–

–

Debug Mode

–

R

Bit[7:0]: AVG value

DPC registers

address

register name

default
value

R/W

description

d

e

table 7-18

n

ti

a

Bit[7:4]: window11_weight
Bit[3:0]: window10_weight

r

0x02

fo

AVG CTRL10

l

0x5690

description

DPC CTRL

–

RW

Debug Control
Changing these registers is not recommended

C

o

n

fi

0x5780~
0x5791

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-43

LENC registers (sheet 1 of 4)

address

register name

default
value

R/W

0x5800

GMTRX00

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_00

0x5801

GMTRX01

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_01

0x5802

GMTRX02

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_02

0x5803

GMTRX03

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_03

0x5804

GMTRX04

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_04

0x5805

GMTRX05

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_05

0x5806

GMTRX10

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_06

0x5807

GMTRX11

0x08

RW

0x5808

GMTRX12

0x08

RW

0x5809

GMTRX13

0x08

0x580A

GMTRX14

0x08

0x580B

GMTRX15

0x580C

GMTRX20

0x580D
0x580E

GMTRX22

ly

u

tr

r

fo

a
RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0a

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0b

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0c

GMTRX21

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0d

n

Bit[7:6]: Not used
Bit[5:0]: green_matrix_08

0x00

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0e

C

l

Bit[7:6]: Not used
Bit[5:0]: green_matrix_07

Bit[7:6]: Not used
Bit[5:0]: green_matrix_09

GMTRX23

0x00

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_0f

0x5810

GMTRX24

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_10

0x5811

GMTRX25

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_11

11.03.2009

ti

n
e
d

fi

o

0x580F

RW

PRELIMINARY SPECIFICATION

n
ly

description

O

table 7-19

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

LENC registers (sheet 2 of 4)

address

register name

default
value

R/W

0x5812

GMTRX30

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_12

0x5813

GMTRX31

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_13

0x5814

GMTRX32

0x00

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_14

0x5815

GMTRX33

0x00

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_15

0x5816

GMTRX34

0x08

RW

0x5817

GMTRX35

0x10

tr

table 7-19

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_17

0x5818

GMTRX40

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_18

0x5819

GMTRX41

0x581A

GMTRX42

0x581B

GMTRX43

0x581C

n
ly

O

ly

u

r

Bit[7:6]: Not used
Bit[5:0]: green_matrix_19

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1a

0x08

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1b

GMTRX44

0x08

RW

0x581D

n

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1c

GMTRX45

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1d

0x581E

d

GMTRX50

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1e

0x581F

GMTRX51

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_1f

0x5820

GMTRX52

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_20

0x5821

GMTRX53

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_21

0x5822

GMTRX54

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_22

0x5823

GMTRX55

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: green_matrix_23

0x5824

BRMATRX00

0xAA

RW

Bit[7:4]: blue_matrix_00
Bit[3:0]: red_matrix_00

e

ti

a

l

RW

fi

fo

Bit[7:6]: Not used
Bit[5:0]: green_matrix_16

0x08

n
o
C

description

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-45

LENC registers (sheet 3 of 4)

address

register name

default
value

R/W

0x5825

BRMATRX01

0xAA

RW

Bit[7:4]: blue_matrix_01
Bit[3:0]: red_matrix_01

0x5826

BRMATRX02

0xAA

RW

Bit[7:4]: blue_matrix_02
Bit[3:0]: red_matrix_02

0x5827

BRMATRX03

0xAA

RW

Bit[7:4]: blue_matrix_03
Bit[3:0]: red_matrix_03

0x5828

BRMATRX04

0xAA

RW

Bit[7:4]: blue_matrix_04
Bit[3:0]: red_matrix_04

0x5829

BRMATRX05

0xAA

RW

Bit[7:4]: blue_matrix_05
Bit[3:0]: red_matrix_05

0x582A

BRMATRX06

0x99

RW

Bit[7:4]: blue_matrix_06
Bit[3:0]: red_matrix_06

0x582B

BRMATRX07

0x99

RW

Bit[7:4]: blue_matrix_07
Bit[3:0]: red_matrix_07

0x582C

BRMATRX08

0x99

RW

0x582D

BRMATRX09

0xAA

RW

0x582E

BRMATRX20

0xAA

0x582F

BRMATRX21

0x99

0x5830

BRMATRX22

n

0x5831

BRMATRX23

0x5832
0x5833

BRMATRX30

n
ly

description

Bit[7:4]: blue_matrix_08
Bit[3:0]: red_matrix_08

a

Bit[7:4]: blue_matrix_20
Bit[3:0]: red_matrix_20

RW

Bit[7:4]: blue_matrix_21
Bit[3:0]: red_matrix_21

0x88

RW

Bit[7:4]: blue_matrix_22
Bit[3:0]: red_matrix_22

0x99

RW

Bit[7:4]: blue_matrix_23
Bit[3:0]: red_matrix_23

BRMATRX24

0xAA

RW

Bit[7:4]: blue_matrix_24
Bit[3:0]: red_matrix_24

0xAA

RW

Bit[7:4]: blue_matrix_30
Bit[3:0]: red_matrix_30

BRMATRX31

0x99

RW

Bit[7:4]: blue_matrix_31
Bit[3:0]: red_matrix_31

0x5835

BRMATRX32

0x99

RW

Bit[7:4]: blue_matrix_32
Bit[3:0]: red_matrix_32

0x5836

BRMATRX33

0x99

RW

Bit[7:4]: blue_matrix_33
Bit[3:0]: red_matrix_33

0x5837

BRMATRX34

0xAA

RW

Bit[7:4]: blue_matrix_34
Bit[3:0]: red_matrix_34

d

fi

o

C

0x5834

11.03.2009

e

RW

ti

Bit[7:4]: blue_matrix_09
Bit[3:0]: red_matrix_09

n

l

fo

r

tr

u

ly

O

table 7-19

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

table 7-19

LENC registers (sheet 4 of 4)

address

register name

default
value

R/W

0x5838

BRMATRX40

0xAA

RW

Bit[7:4]: blue_matrix_40
Bit[3:0]: red_matrix_40

0x5839

BRMATRX41

0xAA

RW

Bit[7:4]: blue_matrix_41
Bit[3:0]: red_matrix_41

0x583A

BRMATRX42

0xAA

RW

Bit[7:4]: blue_matrix_42
Bit[3:0]: red_matrix_42

0x583B

BRMATRX43

0xAA

RW

Bit[7:4]: blue_matrix_43
Bit[3:0]: red_matrix_43

0x583C

BRMATRX44

0xAA

RW

ly

O

n
ly

description

tr

u

Bit[7:4]: blue_matrix_44
Bit[3:0]: red_matrix_44

r

cluster DPC registers (sheet 1 of 2)
register name

0x5900

OTP START ADDR

0x5901

OTP END ADDR

default
value

R/W

0x10

RW

Bit[7:6]: Not used
Bit[5:0]: otp_start_addr

0x1F

RW

Bit[7:6]: Not used
Bit[5:0]: otp_end_addr

RW

Bit[7:5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

Not used
man_inc_en
disable_mf
disable_offset
mirror_opt
disable_bin
Not used
recov_method
fixed_replace
fixed_ptn
flip_opt
expo_en
gain_en

OTP CTRL02

0x00

d

e

0x5902

n

ti

a

l

address

fo

table 7-20

OTP CTRL03

0x6F

RW

0x5904

EXPO CONS

0x00

RW

Bit[7]:
Not used
Bit[6:0]: otp_expo_constrain

0x5905

EXPO CONS

0x00

RW

Bit[7:0]: otp_expo_constrain

0x5906

GAIN CONS

0x07

RW

Bit[7:6]: Not used
Bit[5:0]: otp_expo_constrain

n

fi
0x5903

Bit[7]:
Bit[6:5]:
Bit[4]:
Bit[3]:
Bit[2]:
Bit[1]:
Bit[0]:

o
C

description

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

7-47

cluster DPC registers (sheet 2 of 2)

address

register name

default
value

R/W

0x5907

OTP CTRL07

0x38

RW

Bit[7]:
Not used
Bit[6:4]: remain_bit
Bit[3:0]: Threshold

0x5908

OTP MAN X EVEN
INC

0x01

RW

Bit[7:4]: Not used
Bit[3:0]: otp_man_x_even_inc

0x5909

OTP MAN X ODD INC

0x01

RW

Bit[7:4]: Not used
Bit[3:0]: otp_man_x_odd_inc

0x590A

OTP MAN Y EVEN
INC

0x01

RW

Bit[7:4]: Not used
Bit[3:0]: otp_man_y_even_inc

0x590B

OTP MAN Y ODD INC

0x01

RW

Bit[7:4]: Not used
Bit[3:0]: otp_man_y_odd_inc

0x590C~
0x590D

DEBUG MODE

–

–

R/W

n
ly

description

0x5980

WINDOW XSTART

0x00

0x5981

WINDOW XSTART

0x5982

WINDOW YSTART

0x5983

WINDOW YSTART

0x5984
0x5985

WIN X WIN

a

default
value

description
Bit[7:5]: Not used
Bit[4:0]: window_xstart[12:8]

RW

Bit[7:0]: window_xstart[7:0]

0x00

RW

Bit[7:4]: Not used
Bit[3:0]: window_ystart[11:8]

0x00

RW

Bit[7:0]: window_ystart[7:0]

WIN X WIN

0x10

RW

Bit[7:5]: Not used
Bit[4:0]: window_x_win[12:8]

0xA0

RW

Bit[7:0]: window_x_win[7:0]

WIN Y WIN

0x0C

RW

Bit[7:4]: Not used
Bit[3:0]: window_y_win[11:8]

WIN Y WIN

0x78

RW

Bit[7:0]: window_y_win[7:0]

0x5988

WIN MAN

RW

Bit[7:1]: Not used
Bit[0]:
Window manual enable
0:
Auto mode
1:
Manual mode

0x5987

11.03.2009

0x00

e

d

fi

o

0x5986

ti

RW

n

register name

C

address

l

windows registers

n

table 7-21

fo

r

Not Used

tr

u

ly

O

table 7-20

0x00

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

default
value

R/W

description
Not used
dig_comp_bypass
man_opt
man_en

DIGC CTRL0

0x00

RW

0x5A02

DIG COMP MAN

0x02

RW

Bit[7:2]: Not used
Bit[1:0]: dig_comp_man[9:8]

0x5A03

DIG COMP MAN

0x00

RW

Bit[7:0]: dig_comp_man[7:0]

0x5A20

SNR GAIN MAN

0x00

RW

0x5:A21

SNR GAIN MAN

0x00

RW

Bit[7:0]: gainc_sg_man[7:0]

0x5A22

DIG GAIN MAN

0x00

RW

Bit[7:2]: Not used
Bit[1:0]: gainc_dg_man[9:8]

0x5A23

DIG GAIN MAN

0x00

RW

Bit[7:0]: gainc_dg_man[7:0]

0x5A24

GAINC CTRL0

0x5A25

ly

O

0x5A00

Bit[7:3]:
Bit[2]:
Bit[1]:
Bit[0]:

tr

register name

fo

address

AEC/AGC 3 registers

n
ly

table 7-22

RW

Bit[7:3]:
Bit[2]:
Bit[1]:
Bit[0]:

GAINC DG RDOUT

–

R

Bit[7:2]: Not used
Bit[1:0]: gainc_dig_comp[9:8]

0x5A26

GAINC DG RDOUT

R

Bit[7:0]: gainc_dig_comp[7:0]

0x5A27

ti

–

GAINC SG RDOUT

–

R

Bit[7:1]: Not used
Bit[0]:
gainc_snr[8]

GAINC SG RDOUT

–

R

Bit[7:0]: gainc_snr[7:0]

0x5A29

d

GAINC SG RDOUT

–

R

Bit[7:2]: Not used
Bit[1:0]: gainc_realgain[9:8]

0x5A2A

GAINC SG RDOUT

–

R

Bit[7:0]: gainc_realgain[7:0]

0x5A40

GAINF ANA NUM

0x07

RW

Bit[7:0]: gainf_ana_bit_num

0x5A41

GAINF DIG GAIN

0x00

RW

Bit[7:0]: gainf_dig_gain

a

n

Not used
OPT
bypass_opt
gainc_man_en

C

o

n

e

0x5A28

l

0x00

fi

r

u

Bit[7:1]: Not used
Bit[0]:
gainc_sg_man[8]

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

8-1

8 operating specifications

table 8-1

absolute maximum ratings

ambient storage temperature

-40°C to +125°C

VDD-D

3V

VDD-IO

4.5V

human body model

2000V

machine model

electro-static discharge (ESD)

200V

-0.3V to VDD-IO + 1V

r

all input/output voltages (with respect to ground)

±200 mA

fo

I/O current on any input or output pin
a.

ly

4.5V

u

supply voltage (with respect to ground)

VDD-A

O

absolute maximum ratinga

tr

parameter

n
ly

8.1 absolute maximum ratings

exceeding the absolute maximum ratings shown above invalidates all AC and DC electrical specifications and may
result in permanent damage to the device. Exposure to absolute maximum rated conditions for extended periods

a

l

may affect device reliability.

n

functional temperature

e

table 8-2

ti

8.2 functional temperature

d

parameter

fi

operating temperature rangea

-30°C to +70°C
0°C to +50°C

n

stable image temperature rangeb

range

sensor functions but image quality may be noticeably different at temperatures outside of stable image range

b.

image quality remains stable throughout this temperature range

C

o

a.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

8.3 DC characteristics
table 8-3

parameter

min

typ

VDD-A

supply voltage (analog)

2.6

2.8

VDD-DO

supply voltage (digital I/O)

1.7

O

symbol

n
ly

DC characteristics (-30°C < TA < 70°C)

supply
1.8

unit

3.0

V

3.0

V

VDD-D

supply voltage (digital core)

1.425

1.5

1.575

V

VDD-E

supply voltage (MIPI)

1.425

1.5

1.575

V

IDD-A

active (operating) current
2592 x 1944 @ 15 fpsb

ly

a

max

TBD

mA

IDD-A

IDD-A

tr

active (operating) current
720p @ 30fps

IDD-DO

IDD-A

fo

active (operating) current
VGA @ 30fps

r

active (operating) current
720p @ 60fps

IDD-DO

IDD-DO
IDD-A

active (operating) current
VGA @ 60fps

l

IDD-DO
c

a

IDDS-SCCB

u

IDD-DO

TBD

standby current

TBD

mA

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

mA

TBD

TBD

µA

TBD

TBD

µA

0.54

V

ti

IDDS-PWDN

TBD

TBD

digital inputs (typical conditions: AVDD = 2.8V, DVDD = 1.5V, DOVDD = 1.8V)
input voltage LOW

n

VIL
VIH
CIN

e

input voltage HIGH

1.26

V

input capacitor

10

pF

d

output voltage HIGH

VOL

output voltage LOW

C

o

n

VOH

fi

digital outputs (standard loading 25 pF)

b.

V
0.18

V

serial interface inputs
VILd

SCL and SDA

-0.5

0

0.54

V

d

SCL and SDA

1.26

1.8

2.3

V

VIH
a.

1.62

when internal regulator is bypassed
using internal regulator for DVDD and short DVDD with EVDD; DOVDD = 2.8V. The currents are for DVP output.
MIPI output will results 5%-10% lower active current on IDD-DO

c.

external clock is stopped during measurement

d.

based on DOVDD = 1.8V

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

8-3

table 8-4
symbol

AC characteristics (TA = 25°C, VDD-A = 2.8V)
parameter

min

typ

max

unit

B

analog bandwidth

48

DLE

DC differential linearity error

0.5

O

ADC parameters

n
ly

8.4 AC characteristics

ILE

DC integral linearity error

1

LSB

MHz

settling time for hardware reset

<1

ms

settling time for software reset

u

ly

LSB

<1

ms

<1

ms

<300

ms

typ

max

unit

24

27

MHz

5 (10a)

ns

tr

settling time for resolution mode change

symbol

timing characteristics
parameter

min

l

table 8-5

fo

r

settling time for register setting

tr, tf

clock input rise/fall time

ti

frequency (XCLK)

6

n

fOSC

if using the internal PLL

C

o

n

fi

d

e

a.

a

oscillator and clock input

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

9-1

9 mechanical specifications

figure 9-1

die specifications

22

ly

100 μm

100 μm

u

154 μm

77 μm

O

374

(2760, 2350)

20 μm

1

284

205

254

277

234
207
176
160
208
168
209
207

234

234

386

247

234
166
151
267

(-2760, 2350)

277

352

5520 μm

n
ly

9.1 physical specifications

tr

OV5647

375

279

ti

297

23

184
228
176
208
201
168
176
166
150
150
166
150
160
190
150
150
150
150
150
168
182
150
150
175
237

50

(-2760, -2350)

284

a

l

20 μm

fo

r

4700 μm

die center (0, 0)

(2760, -2350)

n

note 1 all dimensions and coordinates are in μm.

e

pad
name

1

y
coordinate

x
pitch

y
pitch

pad
size

AVDD

-2408

2280

AGND

-2131

2280

277

0

154x100

154x100

DOGND

-1888

2280

243

0

77x100

4

SCL

-1722

2280

166

0

77x100

5

SDA

-1571

2280

151

0

77x100

6

DVDD

-1304

2280

267

0

77x100

7

SGND

-1057

2280

247

0

154x100

8

GPIO1

-671

2280

386

0

77x100

C

3

o

2

x
coordinate

fi

pad
number

d

pad location coordinates (sheet 1 of 3)

n

table 9-1

5647_COB_DS_9_1

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

x
pitch

9

GPIO0

-437

2280

234

10

STROBE

-203

2280

234

11

FREX

31

2280

234

12

DOVDD

238

2280

13

VREF2

414

14

VREF1

15

pad
size
77x100

0

77x100

0

77x100

207

0

77x100

2280

176

0

77x100

574

2280

160

0

77x100

PWDN

782

2280

208

0

77x100

16

DVDD

950

2280

168

0

77x100

17

RESETB

1159

2280

209

0

77x100

18

AVDD

1366

2280

207

0

154x100

19

AGND

1643

2280

277

0

154x100

20

TM

1897

2280

254

0

77x100

21

DOGND

2102

2280

205

0

154x100

22

DVDD

2386

2280

284

0

154x100

23

DVDD

2385

-2280

-1

-4560

154x100

24

DOVDD

2106

-2280

-279

0

154x100

25

DOGND

1822

-2280

-284

0

154x100

26

AVDD

1585

-2280

-237

0

77x100

HREF

1410

-2280

-175

0

77x100

PCLK

1260

-2280

-150

0

77x100

29

VSYNC

1110

-2280

-150

0

77x100

30

DOVDD

928

-2280

-182

0

77x100

31

D0

760

-2280

-168

0

77x100

32

D1

610

-2280

-150

0

77x100

33

D2

460

-2280

-150

0

77x100

34

D3

310

-2280

-150

0

77x100

35

D9/MDN0

160

-2280

-150

0

77x100

36

D8/MDP0

10

-2280

-150

0

77x100

37

EVDD

-180

-2280

-190

0

77x100

38

D7/MCN

-340

-2280

-160

0

77x100

u

r

fo
l

a

ti

e

d
n

proprietary to OmniVision Technologies

O

0

28

o

y
pitch

ly

y
coordinate

tr

x
coordinate

n

pad
name

fi

pad
number

27

C

pad location coordinates (sheet 2 of 3)

n
ly

table 9-1

PRELIMINARY SPECIFICATION

version 1.0

9-3

pad location coordinates (sheet 3 of 3)
pad
name

x
coordinate

y
coordinate

x
pitch

y
pitch

pad
size

39

D6/MCP

-490

-2280

-150

0

77x100

40

EGND

-656

-2280

-166

0

77x100

41

D5/MDN1

-806

-2280

-150

0

77x100

42

D4/MDP1

-956

-2280

-150

0

77x100

43

EGND

-1122

-2280

-166

0

77x100

44

PVDD

-1298

-2280

-176

0

77x100

45

XCLK

-1466

-2280

-168

0

46

DOVDD

-1667

-2280

-201

47

DVDD

-1875

-2280

-208

48

DOGND

-2051

-2280

49

AVDD

-2279

-2280

50

AGND

-2463

-2280

u

ly

O

pad
number

77x100

77x100

0

77x100

-176

0

77x100

-228

0

77x100

-184

0

77x100

r

tr

0

C

o

n

fi

d

e

n

ti

a

l

fo

n
ly

table 9-1

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

10-1

10 optical specifications

figure 10-1

n
ly

10.1 sensor array center
sensor array center

1

O

3670 μm
22

u

ly

first pixel readout
(-2155 μm, 1195 μm)

tr

package center
(0 μm, 0 μm)

array center
(-320 μm, -175 μm)

fo

r

2740 μm

a

l

sensor array

OV5647
23

ti

50

n

top view

e

note 1 this drawing is not to scale and is for reference only.

5647_COB_DS_10_1

C

o

n

fi

d

note 2 as most optical assemblies invert and mirror the image, the chip is
typically mounted with pad 1 oriented down on the PCB.

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

10.2 lens chief ray angle (CRA)
figure 10-2

n
ly

chief ray angle (CRA)

30.0

O

25.0

ly
u

15.0

tr

10.0

0.80

0.0

0.114

2.0

0.10

0.227

4.1

0.15

0.341

6.1

0.20

0.454

8.1

0.25

0.568

10.1

0.30

0.681

12.0

0.35

0.795

13.8

0.40

0.908

15.6

0.45

1.022

17.3

0.50

1.135

18.9

d
fi
n

0.60

0.000

0.05

o

0.40

CRA (degrees)

0.00

C

5647_DS_10_2

image height (mm)

e

field (%)

field

CRA versus image height plot (sheet 1 of 2)

n

table 10-1

CRA

ti

a

l

0.20

0.00

0.0

fo

r

5.0

1.00

CRA (degrees)

20.0

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

10-3

table 10-1

CRA versus image height plot (sheet 2 of 2)
image height (mm)

CRA (degrees)

0.55

1.249

20.4

0.60

1.362

21.6

0.65

1.476

22.6

0.70

1.589

23.4

0.75

1.703

23.9

0.80

1.816

24.1

0.85

1.930

24.1

0.90

2.043

23.9

0.95

2.157

23.7

1.00

2.270

23.6

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

field (%)

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

rev-1

revision history
11.03.2009
initial release

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

•

n
ly

version 1.0

11.03.2009

PRELIMINARY SPECIFICATION

proprietary to OmniVision Technologies

OV5647

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

color CMOS QSXGA (5 megapixel) image sensor with OmniBSI™ technology

proprietary to OmniVision Technologies

PRELIMINARY SPECIFICATION

version 1.0

OmniVision Technologies, Inc.
UNITED STATES
4275 Burton Drive
Santa Clara, CA 95054
tel: + 1 408 567 3000
fax: + 1 408 567 3001
email: salesamerican@ovt.com

n
ly

UNITED KINGDOM

C

o

n

fi

d

e

n

ti

a

l

fo

r

tr

u

ly

O

Hampshire + 44 1256 744 610

d

e

n

ti

a

l

fo

r

tr

u

ly

O

n
ly

the clear advantage™

fi

FINLAND

o

GERMANY

n

Mouhijärvi + 358 3 341 1898

CHINA

C

Munich +49 89 63 81 99 88

Tokyo + 81 3 5765 6321

KOREA
Seoul + 82 2 3478 2812

SINGAPORE + 65 6562 8250

Beijing + 86 10 6580 1690
Shanghai + 86 21 6105 5100
Shenzhen + 86 755 8384 9733
Hong Kong + 852 2403 4011

JAPAN

website: www.ovt.com

TAIWAN
Taipei + 886 2 2657 9800 ext.#100

